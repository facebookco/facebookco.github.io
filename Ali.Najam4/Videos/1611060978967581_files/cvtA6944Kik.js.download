if (self.CavalryLogger) { CavalryLogger.start_js(["Lm7wf"]); }

__d("VideoDownloadDeleteReason",[],(function a(b,c,d,e,f,g){f.exports={CACHE_SYNC:"cache_sync",CONSISTENCY_CHECK:"consistency_check",USER_INITIATED:"user_initiated",CHUNKED_PLAYBACK_NOT_SUPPORTED:"chunked_playback_not_supported"};}),null);
__d("VideoDownloadLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports={CONTROL_IMPRESSION:"control_impression",DOWNLOAD_CANCELLED:"download_cancelled",DOWNLOAD_DELETED:"download_deleted",DOWNLOAD_FAILED:"download_failed",DOWNLOAD_FINISHED:"download_finished",DOWNLOAD_PROGRESS:"download_progress",DOWNLOAD_REQUESTED:"download_requested",SLOW_PLAYBACK_DETECTED:"slow_playback_detected",SURVEY_URI_REQUESTED:"survey_uri_requested",SURVEY_IMPRESSION_ATTEMPT:"survey_impression_attempt",SURVEY_PROMPT_RESULT:"survey_prompt_result",QUALITY_SELECTED:"quality_selected",QUALITY_SELECTOR_IMPRESSION:"quality_selector_impression",QUALITY_SELECTOR_NO_QUALITIES_AVAILABLE:"quality_selector_no_qualities_available",REQUESTED_PLAYING:"requested_playing",PAGE_SETTING_CHANGE:"page_setting_change"};}),null);
__d("VideoDownloadLoggerFields",[],(function a(b,c,d,e,f,g){f.exports={APP_ID:"app_id",AVAILABLE_QUALITIES:"available_qualities",AVAILABLE_QUALITIES_COUNT:"available_qualities_count",BYTES_DOWNLOADED:"bytes_downloaded",CONFIG_NAME:"config_name",CONNECTIVITY_TYPE:"connectivity_type",DELETE_REASON:"delete_reason",DEVICE_YEAR_CLASS:"device_year_class",DOWNLOAD_ORIGIN:"download_origin",DOWNLOAD_SETTING:"download_setting",ELAPSED_TIME_MS:"elapsed_time_ms",ERROR:"error",ERROR_CODE:"error_code",EVENT_NAME:"event_name",EVENT_ORIGIN:"event_origin",EVENT_SUBORIGIN:"event_suborigin",IS_EMPLOYEE:"is_employee",IS_VISIBLE:"is_visible",OWNER_ID:"owner_id",QUALITY:"quality",REASON:"reason",SAVED_OFFLINE:"saved_offline",SESSION_ID:"session_id",TOTAL_SIZE:"total_size",TIME_MS:"time_ms",VIDEO_ID:"video_id"};}),null);
__d("VideoDownloadReason",[],(function a(b,c,d,e,f,g){f.exports={AUTO_INITIATED:"auto_initiated",USER_INITIATED:"user_initiated"};}),null);
__d("VideoPlayerInitializationEvent",[],(function a(b,c,d,e,f,g){f.exports={PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"};}),null);
__d("VideoPlayerLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports={AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CLICK:"click",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availabilty_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",DISPLAYED:"displayed",ENTERED_HD:"entered_hd",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",EXITED_HD:"exited_hd",EXITED_FS:"exited_fs",ERROR:"error",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",STALE:"stale",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PROGRESS:"progress",STREAM_RESET:"stream_reset",POP_FAILOVER:"pop_failover",SURFACE_UPDATED:"surface_updated",QUALITY_CHANGE:"quality_change",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SPLASH_DISPLAYED:"splash_displayed",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",UNMUTED:"unmuted",UNPAUSED:"unpaused",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",SWITCHED_IMPLEMENTATION:"switched_implementation",INLINE_CLICK_TO_PLAY:"inline_click_to_play",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_LOAD_ERROR:"manifest_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",PLAYER_WARNING:"player_warning",NETWORK_TIMEOUT:"network_timeout",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",HEADING_RESET:"heading_reset",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",VIEWABILITY_CHANGED:"viewability_changed"};}),null);
__d("VideoPlayerLoggerSource",[],(function a(b,c,d,e,f,g){f.exports={ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",EMBEDDED:"embedded",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",HTML5:"html5",INLINE:"inline",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",INSIGHTS:"insights",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVE_BEEPER:"live_beeper",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",OFFERS_DETAIL:"offers_detail",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PERMALINK:"permalink",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",TV:"tv",VIDEOHUB_PLAYLIST:"videohub_playlist",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",WATCH_SCROLL:"watch_scroll",SLIDESHOW:"slideshow",LIVE_MAP:"live_map",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",ISSUES_MODULE:"issues_module",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",LIVE_CONTROL_PANEL:"live_control_panel",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",TAHOE:"tahoe",VIDEO_INLINE_CHAINING:"video_inline_chaining"};}),null);
__d("VideoPlayerVersions",[],(function a(b,c,d,e,f,g){f.exports={HTML5:"html5",SILVERCITY:"silvercity",PLEASANTVILLE:"pleasantville",REACT_PLEASANTVILLE:"react_pleasantville",REACT_SILVERCITY:"react_silvercity",REACT:"react",OLD_API_PSR:"old_api_psr",OLD_API_EXO:"old_api_exo",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",LEGACY:"legacy",REFACTORED:"refactored",FNF:"fnf",MBASIC:"mbasic",CHROMECAST:"chromecast",CASTING_DEBUG:"casting_debug",WEBAPIS_AVPLAY:"webapis_avplay",FBLITE_LEGACY:"fblite_legacy",FBLITE_SURFACE:"fblite_surface",FBLITE_TEXTURE:"fblite_texture",UNKNOWN:"unknown"};}),null);
__d('MCustomDialog',['DOM','cx','ge'],(function a(b,c,d,e,f,g,h,i,j){var k={show:function l(m){var n=h.create('div',{className:"_3uug"},null),o=h.create('div',{className:"_3uuh"},h.create('h2',null,m.titleString)),p=h.create('div',{className:"_3uui"},h.create('p',null,m.descriptionString)),q=h.create('p',{className:"_3uuj"},m.dismissButtonString),r=h.create('div',{className:"_3uuk"},q);h.appendContent(n,o);h.appendContent(n,p);h.appendContent(n,r);if(m.confirmButtonString&&m.confirmButtonCallback){var s=h.create('p',{className:"_3uuj"},m.confirmButtonString);h.prependContent(r,s);}var t=h.create('div',{className:"_3uul"},n);q.addEventListener('click',function(){h.remove(t);m.dismissButtonCallback&&m.dismissButtonCallback();});s&&s.addEventListener('click',function(){h.remove(t);m.confirmButtonCallback&&m.confirmButtonCallback();});var u=j('root');if(u)h.prependContent(u,t);}};f.exports=k;}),null);
__d('MFullScreen',[],(function a(b,c,d,e,f,g){var h={debounce:function i(j,k,l){var m;return function(){var n=this,o=arguments,p=function r(){m=null;if(!l)j.apply(n,o);},q=l&&!m;clearTimeout(m);m=setTimeout(p,k);if(q)j.apply(n,o);};},isSupported:function i(){var j=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled,k=document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen;return j&&k;},isFullScreen:function i(){return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement;},enableFullScreen:function i(j){if(j.webkitRequestFullScreen){j.webkitRequestFullScreen();}else if(j.mozRequestFullScreen){j.mozRequestFullScreen();}else if(j.msRequestFullscreen){j.msRequestFullscreen();}else if(j.requestFullScreen){j.requestFullScreen();}else if(j.requestFullscreen){j.requestFullscreen();}else if(j.webkitRequestFullscreen)j.webkitRequestFullscreen();},disableFullScreen:function i(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen)document.exitFullScreen();},listenForFullScreenEvent:function i(j,k){var l=this.debounce(k,500);j.addEventListener('webkitfullscreenchange',l);j.addEventListener('mozfullscreenchange',l);j.addEventListener('MSFullscreenChange',l);j.addEventListener('fullscreenchange',l);},removeFullScreenEventListeners:function i(j,k){var l=this.debounce(k,500);j.removeEventListener('webkitfullscreenchange',k);j.removeEventListener('mozfullscreenchange',k);j.removeEventListener('MSFullscreenChange',k);j.removeEventListener('fullscreenchange',l);}};f.exports=h;}),null);
__d("Deferred",["Promise"],(function a(b,c,d,e,f,g,h){function i(){"use strict";this.$Deferred1=false;this.$Deferred2=new h(function(j,k){this.$Deferred3=j;this.$Deferred4=k;}.bind(this));}i.prototype.getPromise=function(){"use strict";return this.$Deferred2;};i.prototype.resolve=function(j){"use strict";this.$Deferred1=true;this.$Deferred3(j);};i.prototype.reject=function(j){"use strict";this.$Deferred1=true;this.$Deferred4(j);};i.prototype["catch"]=function(j){"use strict";return h.prototype["catch"].apply(this.$Deferred2,arguments);};i.prototype.then=function(j,k){"use strict";return h.prototype.then.apply(this.$Deferred2,arguments);};i.prototype.done=function(j,k){"use strict";var l=arguments.length?this.$Deferred2.then.apply(this.$Deferred2,arguments):this.$Deferred2;l.then(undefined,function(m){setTimeout(function(){throw m;},0);});};i.prototype.isSettled=function(){"use strict";return this.$Deferred1;};f.exports=i;}),null);
__d('mergeDeepInto',['invariant','mergeHelpers'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=i.ArrayStrategies,k=i.checkArrayStrategy,l=i.checkMergeArrayArgs,m=i.checkMergeLevel,n=i.checkMergeObjectArgs,o=i.isTerminal,p=i.normalizeMergeArg,q=function u(v,w,x,y){n(v,w);m(y);var z=w?Object.keys(w):[];for(var aa=0;aa<z.length;aa++){var ba=z[aa];s(v,w,ba,x,y);}},r=function u(v,w,x,y){l(v,w);m(y);if(x===j.Concat){v.push.apply(v,w);}else{var z=Math.max(v.length,w.length);for(var aa=0;aa<z;aa++)s(v,w,aa,x,y);}},s=function u(v,w,x,y,z){var aa=w[x],ba=Object.prototype.hasOwnProperty.call(w,x),ca=ba&&o(aa),da=ba&&Array.isArray(aa),ea=ba&&!da&&!da,fa=v[x],ga=Object.prototype.hasOwnProperty.call(v,x),ha=ga&&o(fa),ia=ga&&Array.isArray(fa),ja=ga&&!ia&&!ia;if(ha){if(ca){v[x]=aa;}else if(da){v[x]=[];r(v[x],aa,y,z+1);}else if(ea){v[x]={};q(v[x],aa,y,z+1);}else if(!ba)v[x]=fa;}else if(ia){if(ca){v[x]=aa;}else if(da){j[y]||h(0);if(y===j.Clobber)fa.length=0;r(fa,aa,y,z+1);}else if(ea){v[x]={};q(v[x],aa,y,z+1);}else !ba;}else if(ja){if(ca){v[x]=aa;}else if(da){v[x]=[];r(v[x],aa,y,z+1);}else if(ea){q(fa,aa,y,z+1);}else !ba;}else if(!ga)if(ca){v[x]=aa;}else if(da){v[x]=[];r(v[x],aa,y,z+1);}else if(ea){v[x]={};q(v[x],aa,y,z+1);}else !ba;},t=function u(v,w,x){var y=p(w);k(x);q(v,y,x,0);};f.exports=t;}),null);
__d('AsyncStorage',['Deferred','mergeDeepInto','mergeHelpers'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=j.ArrayStrategies,l=window.indexedDB,m=1,n='data',o=false,p=void 0,q=Date.now(),r=new h();function s(){var v=l.open('AsyncStorage',m);v.onerror=function(event){var w=new Error('Failed to open AsyncStorage IndexedDB instance.');r.reject(w);};v.onsuccess=function(event){o&&false;p=event.target.result;r.resolve({db:p});p.onerror=function(w){};};v.onupgradeneeded=function(w){var x=w.currentTarget.result;if(x.objectStoreNames&&x.objectStoreNames.contains(n))return;x.createObjectStore(n,{keyPath:'key'});};}if(l)s();function t(v){if(p){v();}else r.then(function(){o&&false;t(v);});}var u={setItem:function v(w,x,y){this.multiSet([[w,x]],function(z){y(z&&z[0]||null);});},getItem:function v(w,x){this.multiGet([w],function(y,z){var aa=z!==undefined&&z[0]!==undefined&&typeof z[0][1]!==undefined?z[0][1]:null;x(y&&y[0]||null,aa);});},removeItem:function v(w,x){this.multiRemove([w],function(y){x(y&&y[0]||null);});},multiGet:function v(w,x){var y=[];this._multiOp(w,'readonly',function(z){return x(z,y);},function(z){return z;},function(z,aa,ba){if(aa&&z===aa.key){o&&false;y.push([z,aa.value.value]);}else y.push([z,null]);});},multiSet:function v(w,x){this._multiOp(w,'readwrite',x,function(y){return y[0];},function(y,z,aa){if(z&&y[0]===z.key){var ba=z.value;ba.value=y[1];o&&false;z.update(ba);}else aa.push(y);});},multiMerge:function v(w,x){this._multiOp(w,'readwrite',x,function(y){return y[0];},function(y,z,aa){if(z&&y[0]===z.key){var ba=z.value,ca=JSON.parse(ba.value);i(ca,JSON.parse(y[1]),k.Clobber);o&&false;ba.value=JSON.stringify(ca);z.update(ba);}else{o&&false;aa.push(y);}});},multiRemove:function v(w,x){this._multiOp(w,'readwrite',x,function(y){return y;},function(y,z,aa){if(z&&y===z.key){o&&false;z['delete']();}});},getAllKeys:function v(w){t(function(){var x=p.transaction([n],'readonly'),y=x.objectStore(n).openCursor(),z=[];y.onsuccess=function(event){var aa=event.target.result;if(!aa){w(null,z);return;}z.push(aa.key);aa['continue']();};});},clear:function v(w){t(function(){var x=p.transaction([n],'readwrite'),y=x.objectStore(n).openCursor();y.onsuccess=function(event){var z=event.target.result;if(!z){w(null);return;}z['delete']();z['continue']();};});},_multiOp:function v(w,x,y,z,aa){t(function(){var ba=false,ca=w.slice().sort(function(ia,ja){var ka=z(ia),la=z(ja);if(ka===la){var ma=new Error('AsyncStorage._multiOp cannot process duplicate keys.');y&&y(ma);ba=true;return 0;}return ka<la?-1:1;});if(ba)return;var da=p.transaction([n],x),ea=da.objectStore(n).openCursor(),fa=[],ga=0;ea.onsuccess=function(event){var ia=event.target.result;if(!ia){while(ga<ca.length){aa(ca[ga],ia,fa);ga++;}ha();return;}var ja=ia.key;o&&false;while(z(ca[ga])<=ja){o&&false;aa(ca[ga],ia,fa);ga++;if(ga===ca.length){ha();return;}}var ka=z(ca[ga]);ia['continue'](ka);};function ha(){var ia=da.objectStore(n);fa.forEach(function(ja){o&&false;ia.add({key:ja[0],value:ja[1]});});}da.oncomplete=function(){y&&y(null);};da.onerror=function(event){var ia=new Error('IndexedDB error: '+event.target.error.message);y&&y(ia);};o&&false;});}};f.exports=u;}),null);
__d("str2rstr",[],(function a(b,c,d,e,f,g){function h(i){var j="",k,l;for(var m=0;m<i.length;m++){k=i.charCodeAt(m);l=m+1<i.length?i.charCodeAt(m+1):0;if(55296<=k&&k<=56319&&56320<=l&&l<=57343){k=65536+((k&1023)<<10)+(l&1023);m++;}if(k<=127){j+=String.fromCharCode(k);}else if(k<=2047){j+=String.fromCharCode(192|k>>>6&31,128|k&63);}else if(k<=65535){j+=String.fromCharCode(224|k>>>12&15,128|k>>>6&63,128|k&63);}else if(k<=2097151)j+=String.fromCharCode(240|k>>>18&7,128|k>>>12&63,128|k>>>6&63,128|k&63);}return j;}f.exports=h;}),null);
__d('md5',['str2rstr'],(function a(b,c,d,e,f,g,h){function i(v,w){var x=v[0],y=v[1],z=v[2],aa=v[3];x=k(x,y,z,aa,w[0],7,-680876936);aa=k(aa,x,y,z,w[1],12,-389564586);z=k(z,aa,x,y,w[2],17,606105819);y=k(y,z,aa,x,w[3],22,-1044525330);x=k(x,y,z,aa,w[4],7,-176418897);aa=k(aa,x,y,z,w[5],12,1200080426);z=k(z,aa,x,y,w[6],17,-1473231341);y=k(y,z,aa,x,w[7],22,-45705983);x=k(x,y,z,aa,w[8],7,1770035416);aa=k(aa,x,y,z,w[9],12,-1958414417);z=k(z,aa,x,y,w[10],17,-42063);y=k(y,z,aa,x,w[11],22,-1990404162);x=k(x,y,z,aa,w[12],7,1804603682);aa=k(aa,x,y,z,w[13],12,-40341101);z=k(z,aa,x,y,w[14],17,-1502002290);y=k(y,z,aa,x,w[15],22,1236535329);x=l(x,y,z,aa,w[1],5,-165796510);aa=l(aa,x,y,z,w[6],9,-1069501632);z=l(z,aa,x,y,w[11],14,643717713);y=l(y,z,aa,x,w[0],20,-373897302);x=l(x,y,z,aa,w[5],5,-701558691);aa=l(aa,x,y,z,w[10],9,38016083);z=l(z,aa,x,y,w[15],14,-660478335);y=l(y,z,aa,x,w[4],20,-405537848);x=l(x,y,z,aa,w[9],5,568446438);aa=l(aa,x,y,z,w[14],9,-1019803690);z=l(z,aa,x,y,w[3],14,-187363961);y=l(y,z,aa,x,w[8],20,1163531501);x=l(x,y,z,aa,w[13],5,-1444681467);aa=l(aa,x,y,z,w[2],9,-51403784);z=l(z,aa,x,y,w[7],14,1735328473);y=l(y,z,aa,x,w[12],20,-1926607734);x=m(x,y,z,aa,w[5],4,-378558);aa=m(aa,x,y,z,w[8],11,-2022574463);z=m(z,aa,x,y,w[11],16,1839030562);y=m(y,z,aa,x,w[14],23,-35309556);x=m(x,y,z,aa,w[1],4,-1530992060);aa=m(aa,x,y,z,w[4],11,1272893353);z=m(z,aa,x,y,w[7],16,-155497632);y=m(y,z,aa,x,w[10],23,-1094730640);x=m(x,y,z,aa,w[13],4,681279174);aa=m(aa,x,y,z,w[0],11,-358537222);z=m(z,aa,x,y,w[3],16,-722521979);y=m(y,z,aa,x,w[6],23,76029189);x=m(x,y,z,aa,w[9],4,-640364487);aa=m(aa,x,y,z,w[12],11,-421815835);z=m(z,aa,x,y,w[15],16,530742520);y=m(y,z,aa,x,w[2],23,-995338651);x=n(x,y,z,aa,w[0],6,-198630844);aa=n(aa,x,y,z,w[7],10,1126891415);z=n(z,aa,x,y,w[14],15,-1416354905);y=n(y,z,aa,x,w[5],21,-57434055);x=n(x,y,z,aa,w[12],6,1700485571);aa=n(aa,x,y,z,w[3],10,-1894986606);z=n(z,aa,x,y,w[10],15,-1051523);y=n(y,z,aa,x,w[1],21,-2054922799);x=n(x,y,z,aa,w[8],6,1873313359);aa=n(aa,x,y,z,w[15],10,-30611744);z=n(z,aa,x,y,w[6],15,-1560198380);y=n(y,z,aa,x,w[13],21,1309151649);x=n(x,y,z,aa,w[4],6,-145523070);aa=n(aa,x,y,z,w[11],10,-1120210379);z=n(z,aa,x,y,w[2],15,718787259);y=n(y,z,aa,x,w[9],21,-343485551);v[0]=t(x,v[0]);v[1]=t(y,v[1]);v[2]=t(z,v[2]);v[3]=t(aa,v[3]);}function j(v,w,x,y,z,aa){w=t(t(w,v),t(y,aa));return t(w<<z|w>>>32-z,x);}function k(v,w,x,y,z,aa,ba){return j(w&x|~w&y,v,w,z,aa,ba);}function l(v,w,x,y,z,aa,ba){return j(w&y|x&~y,v,w,z,aa,ba);}function m(v,w,x,y,z,aa,ba){return j(w^x^y,v,w,z,aa,ba);}function n(v,w,x,y,z,aa,ba){return j(x^(w|~y),v,w,z,aa,ba);}function o(v){var w=v.length,x=[1732584193,-271733879,-1732584194,271733878],y;for(y=64;y<=v.length;y+=64)i(x,p(v.substring(y-64,y)));v=v.substring(y-64);var z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(y=0;y<v.length;y++)z[y>>2]|=v.charCodeAt(y)<<((y&3)<<3);z[y>>2]|=128<<((y&3)<<3);if(y>55){i(x,z);for(y=0;y<16;y++)z[y]=0;}z[14]=w*8;i(x,z);return x;}function p(v){var w=[],x=0;while(x<64)w[x>>2]=v.charCodeAt(x++)|v.charCodeAt(x++)<<8|v.charCodeAt(x++)<<16|v.charCodeAt(x++)<<24;return w;}var q='0123456789abcdef'.split('');function r(v){var w='',x=0;for(;x<4;x++)w+=q[v>>(x<<3)+4&15]+q[v>>(x<<3)&15];return w;}function s(v){for(var w=0;w<v.length;w++)v[w]=r(v[w]);return v.join('');}var t=function v(w,x){return w+x&4294967295;};function u(v){if(null===v||undefined===v){return null;}else{for(var w=0;w<v.length;w++)if(v[w]>"\u007F"){v=h(v);break;}return s(o(v));}}if(u('hello')!='5d41402abc4b2a76b9719d911017c592')t=function v(w,x){var y=(w&65535)+(x&65535),z=(w>>16)+(x>>16)+(y>>16);return z<<16|y&65535;};f.exports=u;}),null);
__d('MVideoCacheConfig',['CurrentUser','MVideoDownloadConfig','md5','WebStorage'],(function a(b,c,d,e,f,g,h,i,j){var k=null,l={CACHE_PREFIX:'vc',PREFIX_SEPARATOR:'_',CONFIG_PREFIX:'config',KEYS:{lastCleanUp:'lastCleanUp'},isSupported:function m(){try{if(!k)k=c('WebStorage');return k.getLocalStorage();}catch(n){k=null;return false;}},currentAccountHash:function m(){var n=''+h.getAccountID();return j(n);},getUserPrefix:function m(){return l.CACHE_PREFIX+l.PREFIX_SEPARATOR+l.currentAccountHash()+l.PREFIX_SEPARATOR;},getCacheConfigKey:function m(){return l.CACHE_PREFIX+l.PREFIX_SEPARATOR+l.CONFIG_PREFIX+l.PREFIX_SEPARATOR+l.currentAccountHash();},initCacheConfig:function m(){var n={},o=Date.now()-2*i.cache_sync_interval_ms;n[l.KEYS.lastCleanUp]=o;n=JSON.stringify(n);var p=l.getCacheConfigKey();k.getLocalStorage().setItem(p,n);return n;},getCacheConfig:function m(){var n=l.getCacheConfigKey(),o=k.getLocalStorage().getItem(n);try{JSON.parse(o);}catch(p){o=null;}if(o===null)o=l.initCacheConfig();o=JSON.parse(o);return o;},getItemFromConfig:function m(n){var o=l.getCacheConfig();return o[n];},setItemFromConfig:function m(n,o){var p=l.getCacheConfig();p[n]=o;p=JSON.stringify(p);var q=l.getCacheConfigKey();k.getLocalStorage().setItem(q,p);}};f.exports=l;}),null);
__d('XHRRequestRetrier',['setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h){function i(j){'use strict';this.$XHRRequestRetrier1=j;this.$XHRRequestRetrier2=false;this.$XHRRequestRetrier3=0;this.$XHRRequestRetrier4=0;this.$XHRRequestRetrier5=0;this.$XHRRequestRetrier6=1000;this.$XHRRequestRetrier7=2;this.$XHRRequestRetrier8=.5;this.$XHRRequestRetrier9=j.getErrorHandler();j.setErrorHandler(this.$XHRRequestRetrier11.bind(this));this.$XHRRequestRetrier10=j.getAbortHandler();j.setAbortHandler(this.$XHRRequestRetrier12.bind(this));}i.prototype.setMaxAttempts=function(j){'use strict';this.$XHRRequestRetrier5=j;return this;};i.prototype.setBaseRetryDelayMs=function(j){'use strict';this.$XHRRequestRetrier6=j;return this;};i.prototype.setRetryBackoffFactor=function(j){'use strict';this.$XHRRequestRetrier7=j;return this;};i.prototype.setRetryFuzzFactor=function(j){'use strict';this.$XHRRequestRetrier8=j;return this;};i.prototype.send=function(){'use strict';if(this.$XHRRequestRetrier2)return;if(this.$XHRRequestRetrier1.getTimeout())throw new Error('Not supported.');this.$XHRRequestRetrier3++;if(!this.$XHRRequestRetrier4)this.$XHRRequestRetrier4=this.$XHRRequestRetrier6;this.$XHRRequestRetrier1.send();};i.prototype.$XHRRequestRetrier11=function(){'use strict';if(this.$XHRRequestRetrier3<this.$XHRRequestRetrier5){this.$XHRRequestRetrier13();}else if(this.$XHRRequestRetrier9)this.$XHRRequestRetrier9.apply(this,arguments);};i.prototype.$XHRRequestRetrier12=function(){'use strict';this.$XHRRequestRetrier2=true;if(this.$XHRRequestRetrier10)this.$XHRRequestRetrier10.apply(this,arguments);};i.prototype.$XHRRequestRetrier13=function(){'use strict';var j=this.send.bind(this),k=Math.random()*2-1,l=k*this.$XHRRequestRetrier8,m=this.$XHRRequestRetrier4*(1+l);h(j,m);this.$XHRRequestRetrier4*=this.$XHRRequestRetrier7;};f.exports=i;}),null);
__d('URIDownloader',['invariant','URI','XHRRequest','XHRRequestRetrier'],(function a(b,c,d,e,f,g,h,i,j,k){var l=200000,m=15,n=2000,o=1.5;function p(q,r){'use strict';this.$URIDownloader1=new i(q);this.$URIDownloader2=r;this.$URIDownloader3=0;this.$URIDownloader4=0;this.$URIDownloader5=[];}p.prototype.setResponseHandler=function(q){'use strict';!this.$URIDownloader10||h(0);this.$URIDownloader9=q;return this;};p.prototype.setChunkedResponseHandler=function(q){'use strict';!this.$URIDownloader9||h(0);this.$URIDownloader10=q;return this;};p.prototype.setErrorHandler=function(q){'use strict';this.$URIDownloader11=q;return this;};p.prototype.setAbortHandler=function(q){'use strict';this.$URIDownloader12=q;return this;};p.prototype.setProgressHandler=function(q){'use strict';this.$URIDownloader13=q;return this;};p.prototype.$URIDownloader14=function(q){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader13)this.$URIDownloader13({total:this.$URIDownloader2,loaded:this.$URIDownloader4+(q?q:0)});};p.prototype.$URIDownloader15=function(){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader9){var q=null;if(this.$URIDownloader5)q=new Blob(this.$URIDownloader5);this.$URIDownloader9(q);}if(this.$URIDownloader10)this.$URIDownloader10(this.$URIDownloader5);};p.prototype.$URIDownloader16=function(q){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader17(q)){if(this.$URIDownloader4<this.$URIDownloader2){this.$URIDownloader14();this.$URIDownloader18();}else this.$URIDownloader15();}else this.$URIDownloader19();};p.prototype.$URIDownloader19=function(){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader11)this.$URIDownloader11();};p.prototype.$URIDownloader20=function(){'use strict';if(this.$URIDownloader8)return;if(this.$URIDownloader12)this.$URIDownloader12();};p.prototype.$URIDownloader21=function(){'use strict';var q=Math.min(this.$URIDownloader4+l,this.$URIDownloader2);this.$URIDownloader3=q-this.$URIDownloader4;};p.prototype.$URIDownloader17=function(q){'use strict';if(this.$URIDownloader8)return false;if(this.$URIDownloader3!==q.size)return false;this.$URIDownloader5.push(q);this.$URIDownloader4+=this.$URIDownloader3;this.$URIDownloader3=0;return true;};p.prototype.$URIDownloader18=function(){'use strict';if(this.$URIDownloader8)return;var q=new j(this.$URIDownloader1).setMethod('GET').setResponseType('blob').setResponseHandler(this.$URIDownloader16.bind(this)).setErrorHandler(this.$URIDownloader19.bind(this)).setAbortHandler(this.$URIDownloader20.bind(this)).setDownloadProgressHandler(function(s){if(s.loadedBytes)this.$URIDownloader14(s.loadedBytes);}.bind(this));this.$URIDownloader21();q.setRequestHeader('Range','bytes='+this.$URIDownloader4+'-'+(this.$URIDownloader4+this.$URIDownloader3-1));this.$URIDownloader7=q;var r=new k(q).setMaxAttempts(m).setBaseRetryDelayMs(n).setRetryBackoffFactor(o);this.$URIDownloader6=r;try{r.send();}catch(s){this.$URIDownloader19();}};p.prototype.sendRequest=function(){'use strict';this.$URIDownloader4=0;this.$URIDownloader18();};p.prototype.abort=function(){'use strict';this.$URIDownloader8=true;if(this.$URIDownloader7&&this.$URIDownloader7.abort){this.$URIDownloader7.abort();}else if(this.$URIDownloader12)this.$URIDownloader12();this.$URIDownloader22();};p.prototype.$URIDownloader22=function(){'use strict';this.$URIDownloader7=null;this.$URIDownloader5=null;this.$URIDownloader12=null;this.$URIDownloader11=null;this.$URIDownloader9=null;this.$URIDownloader13=null;};f.exports=p;}),null);
__d("XVideoDownloadEventController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video_download_event\/",{video_id:{type:"Int",required:true},viewer_id:{type:"Int",required:true},app_id:{type:"Int",required:true},event:{type:"Enum",required:true,enumType:1}});}),null);
__d('VideoDownloadEventHandler',['CurrentUser','DataAttributeUtils','MRequest','XVideoDownloadEventController'],(function a(b,c,d,e,f,g,h,i,j,k){var l=412378670482;function m(n,o,event){'use strict';this.$VideoDownloadEventHandler1=n;this.$VideoDownloadEventHandler2=o;this.$VideoDownloadEventHandler3=event;}m.prototype.sendServerDownloadEvent=function(){'use strict';var n=k.getURIBuilder().setInt('video_id',this.$VideoDownloadEventHandler1).setInt('viewer_id',h.getAccountID()).setInt('app_id',l).setEnum('event',this.$VideoDownloadEventHandler3).getURI(),o=null;if(this.$VideoDownloadEventHandler2)o=i.getDataFt(this.$VideoDownloadEventHandler2);new j(n).setMethod('POST').setData({ft_data:o}).send();};f.exports=m;}),null);
__d('VideoDownloadLogger',['Bootloader','CurrentUser','md5'],(function a(b,c,d,e,f,g,h,i,j){var k=null,l=null,m=2147483647,n='video_download';function o(){return Date.now();}function p(q){'use strict';q=q?q:{};this.$VideoDownloadLogger1=q;}p.prototype.$VideoDownloadLogger2=function(event,q){'use strict';q=babelHelpers['extends']({},q,this.$VideoDownloadLogger1);!event;if(!Object.prototype.hasOwnProperty.call(q,'time_ms'))q.time_ms=o();if(!Object.prototype.hasOwnProperty.call(q,'connectivity_type'))q.connectivity_type=l.getConnectivityType();var r={logData:q,event:event};k.post(n,r);};p.prototype.logEvent=function(event,q){'use strict';if(!k||!l){h.loadModules(["Banzai","MVideoUtils"],function(r,s){k=r;l=s;this.$VideoDownloadLogger2(event,q);}.bind(this),'VideoDownloadLogger');}else this.$VideoDownloadLogger2(event,q);};p.time=function(){'use strict';return Math.floor(Date.now()/1000);};p.generateSessionID=function(){'use strict';return j([i.getID(),p.time(),Math.random()*m].join(':'));};f.exports=p;}),null);
__d('MVideoCache',['VideoDownloadEventHandler','VideoDownloadLogger','VideoDownloadLoggerEvent','VideoDownloadLoggerFields','VideoDownloadDeleteReason','VideoDownloadReason','emptyFunction','MLegacyDataStore','URIDownloader','MVideoCacheConfig','MVideoDownloadConfig','AsyncStorage','WebStorage'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=null,t=null,u={},v=500,w=4e+09,x=0,y={audio:'audio',video:'video'};function z(ba,ca){'use strict';this.$MVideoCacheStreamObject1=ba;this.$MVideoCacheStreamObject2=ca;if(ba.chunked){this.$MVideoCacheStreamObject3=ca===y.video?ba.videoChunkCount:ba.audioChunkCount;}else this.$MVideoCacheStreamObject3=1;this.$MVideoCacheStreamObject4=0;}z.prototype.getNextBuffer=function(ba){'use strict';if(this.$MVideoCacheStreamObject4>=this.$MVideoCacheStreamObject3){ba(null);}else{var ca=this.$MVideoCacheStreamObject4++;aa.getCachedStream(this.$MVideoCacheStreamObject1,this.$MVideoCacheStreamObject2,function(da){ba(da);},ba,this.$MVideoCacheStreamObject1.chunked?ca:null);}};var aa={DEFAULT_QUALITY_TAG:'default',DOWNLOAD_STARTED_TIME:'downloadStartedTime',DOWNLOAD_REASON:'downloadReason',OFFLINE_LIFESPAN:'offlineLifespan',VIEW_COUNT:'viewCount',RESOURCE_STATE:{loading:'loading',finished:'finished',error:'error'},ERROR:{QUOTA_EXCEEDED:1,NO_ACCESS:2},isDownloadInProgress:function ba(){return !aa.isEmptyObject(u);},isSupported:function ba(){try{if(!s)s=c('AsyncStorage');if(!t)t=c('WebStorage');return t.getLocalStorage()&&window.indexedDB&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota;}catch(ca){s=null;t=null;return false;}},downloadVideo:function ba(ca,da,ea,fa,ga,ha){var ia=arguments.length<=6||arguments[6]===undefined?{}:arguments[6],ja=arguments.length<=7||arguments[7]===undefined?m.USER_INITIATED:arguments[7],ka=arguments.length<=8||arguments[8]===undefined?null:arguments[8],la=JSON.parse(da),ma=aa.createVideoResource(la,ha),na=aa.createAudioResource(la,ha);if(!ma&&!na){fa();return;}var oa=[];ma&&oa.push(ma);na&&oa.push(na);var pa=aa.calculateTotalSize(da,ha),qa=aa.createTracking(ca,pa,la.offline_lifespan_ms,ea,fa,ga,ha,ia.origin,ja,ka);if(!qa){fa();return;}var ra={};ra[k.EVENT_ORIGIN]=ia.origin;ra[k.EVENT_SUBORIGIN]=ia.suborigin;aa.logEventTracking(qa,j.DOWNLOAD_REQUESTED,ra);aa.flushAsyncStorage(function sa(){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(ta,ua){var va=aa.getTotalSizeOfLoadingResources();if(ta+qa.totalSize+va<aa.getMaxCacheUsage()&&qa.totalSize+va+aa.getMinFreeSpace()<ua){aa.downloadPostQuotaCheck(qa,ma,na);}else{var wa='Used: '+ta+' Remaining: '+ua+' MaxCacheUsage: '+aa.getMaxCacheUsage()+' MinFreeSpace: '+aa.getMinFreeSpace();aa.onError(qa,aa.ERROR.QUOTA_EXCEEDED,wa);}},function(){aa.onError(qa,aa.ERROR.QUOTA_EXCEEDED);});});},getDownloadNotificationUri:function ba(ca){var da=JSON.parse(ca);return da&&da.download_finished_notification_uri;},deleteVideoByID:function ba(ca,da,ea){var fa=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];da=da?da:n;var ga=aa.getTracking(ca),ha={};ha[k.EVENT_ORIGIN]=fa.origin;ha[k.EVENT_SUBORIGIN]=fa.suborigin;ha[k.REASON]=ea||l.USER_INITIATED;if(ga){aa.logEventTracking(ga,j.DOWNLOAD_CANCELLED,ha);aa.deleteTracking(ga,true);}else{aa.logEvent(ca,j.DOWNLOAD_DELETED,ha);var ia=new h(ca,null,j.DOWNLOAD_DELETED);ia.sendServerDownloadEvent();}aa.deleteCachedVideoFromStorage(ca,da);},calculateTotalSize:function ba(ca,da){var ea=JSON.parse(ca),fa=aa.getStreamsForQuality(ea,da);return fa&&aa.calculateTotalSizeInState(fa,undefined);},getQualitiesFromResources:function ba(ca){var da=JSON.parse(ca),ea=da&&da.streams;if(!ea)return null;var fa=null,ga={};for(var ha=0;ha<ea.length;ha++){var ia=ea[ha],ja=String(ia.mimetype);if(ja&&ja.startsWith(y.video)){var ka=Object.prototype.hasOwnProperty.call(ia,'quality')&&String(ia.quality);if(ka)ga[ka]=ia.size;}else if(ja&&ja.startsWith(y.audio))fa=ia;}if(fa)for(var la in ga)if(Object.prototype.hasOwnProperty.call(ga,la)&&ga[la])ga[la]+=fa.size;return ga;},deleteVideosByID:function ba(ca,da,ea){if(aa.isSupported())for(var fa=0;fa<ca.length;fa++){var ga=ca[fa];aa.deleteVideoByID(ga,function(){da(ga);},ea);}},isVideoDownloaded:function ba(ca){if(aa.isSupported()){var da=aa.getCachedVideoByID(ca);if(da){return true;}else return false;}return false;},isVideoDownloading:function ba(ca){if(aa.isSupported())return u&&u[ca];return false;},getVideoSize:function ba(ca,da,ea){if(aa.isSupported()){var fa=aa.getTracking(ca);if(fa)return fa.totalSize;var ga=aa.getCachedVideoByID(ca);if(ga)return ga.totalSize;if(da){var ha=aa.calculateTotalSize(da,ea);if(ha&&ha>0)return ha;}}return null;},getVideoProgressByID:function ba(ca){if(aa.isSupported()){var da=aa.getTracking(ca);if(da)return da.loaded;}return 0;},_fillMissingFieldsWithDefaults:function ba(ca,da){for(var ea=0;ea<da.length;ea++){var fa=da[ea];if(fa===aa.DOWNLOAD_STARTED_TIME&&!Object.prototype.hasOwnProperty.call(ca,fa))ca.downloadStartedTime=0;if(fa===aa.DOWNLOAD_REASON&&!Object.prototype.hasOwnProperty.call(ca,fa))ca.downloadReason=m.USER_INITIATED;if(fa===aa.OFFLINE_LIFESPAN&&!Object.prototype.hasOwnProperty.call(ca,fa))ca.offlineLifespan=r.cache_default_offline_lifespan_ms;}return ca;},getCachedVideoByID:function ba(ca){if(!r.enabled&&!r.simulate_legacy_ux)return null;var da=aa.createPrefix(ca),ea=null;try{ea=t.getLocalStorage().getItem(da);}catch(ga){}var fa=ea&&JSON.parse(ea);fa=fa&&aa._fillMissingFieldsWithDefaults(fa,[aa.DOWNLOAD_STARTED_TIME,aa.DOWNLOAD_REASON,aa.OFFLINE_LIFESPAN]);if(r.simulate_legacy_ux)return null;if(fa&&fa.chunked&&!r.cache_chunked_playback_enabled){setTimeout(function(){aa.deleteVideoByID(ca,n,l.CHUNKED_PLAYBACK_NOT_SUPPORTED);},0);return null;}return fa;},getCachedVideosMetadata:function ba(){var ca=arguments.length<=0||arguments[0]===undefined?[]:arguments[0],da=arguments.length<=1||arguments[1]===undefined?false:arguments[1],ea={};if(!aa.isSupported())return ea;var fa=t.getLocalStorage(),ga=Object.keys(fa),ha=q.getUserPrefix();for(var ia in ga)if(Object.prototype.hasOwnProperty.call(ga,ia)&&ga[ia])if(ga[ia].startsWith(ha)){var ja=aa.getVideoIDFromStorageKey(ga[ia]),ka={};if(ca.length>0){var la=null;try{la=fa.getItem(ga[ia]);}catch(pa){if(!da)continue;}var ma=la&&JSON.parse(la);if((!ma||ma.chunked&&!r.cache_chunked_playback_enabled)&&!da)continue;for(var na=0;na<ca.length;na++){var oa=ca[na];if(ma&&oa in ma)ka[oa]=ma[oa];}ka=aa._fillMissingFieldsWithDefaults(ka,ca);}ea[ja]=ka;}return ea;},getCachedVideoIDs:function ba(){var ca=arguments.length<=0||arguments[0]===undefined?false:arguments[0];return Object.keys(aa.getCachedVideosMetadata([],ca));},hasDownloadedVideos:function ba(){var ca=aa.getCachedVideoIDs();return ca&&ca.length&&ca.length>0;},getDownloadingVideos:function ba(){var ca=Object.keys(u);return ca;},getVideoIDFromStorageKey:function ba(ca){var da=q.PREFIX_SEPARATOR;return ca.split(da)[2]||'';},getCachedVideo:function ba(ca){var da=o.get(ca);return aa.getCachedVideoByID(da.videoID);},getCachedVideoStream:function ba(ca,da,ea){aa.getCachedStream(ca,y.video,da,ea);},getCachedAudioStream:function ba(ca,da,ea){aa.getCachedStream(ca,y.audio,da,ea);},getCachedVideoStreamObject:function ba(ca){return new z(ca,y.video);},getCachedAudioStreamObject:function ba(ca){return new z(ca,y.audio);},getMaxCacheUsage:function ba(){var ca=w;if(r&&Object.prototype.hasOwnProperty.call(r,'max_cache_usage'))ca=r.max_cache_usage;return ca;},getMinFreeSpace:function ba(){var ca=x;if(r&&Object.prototype.hasOwnProperty.call(r,'min_free_space'))ca=r.min_free_space;return ca;},downloadPostQuotaCheck:function ba(ca,da,ea){if(!aa.addTracking(ca)){aa.onError(ca);return;}da&&aa.sendResourceRequest(ca,da);ea&&aa.sendResourceRequest(ca,ea);},calculateTotalSizeInState:function ba(ca,da){var ea,fa=0,ga=ca.length;for(ea=0;ea<ga;ea++){var ha=ca[ea];if(!da||ha.state===da)fa+=ha.size;}return fa;},isEmptyObject:function ba(ca){for(var da in ca)if(Object.prototype.hasOwnProperty.call(ca,da)&&ca[da])return false;return true;},getTotalSizeOfLoadingResources:function ba(){var ca=0;for(var da in u)if(Object.prototype.hasOwnProperty.call(u,da)&&u[da]){var ea=u[da];ca+=aa.calculateTotalSizeInState(ea.resources,aa.RESOURCE_STATE.loading);}return ca;},deleteCachedVideoFromStorage:function ba(ca,da){var ea=aa.createPrefix(ca);try{t.getLocalStorage().removeItem(ea);}catch(fa){}aa.getObjectKeysFromAsyncStorageByPrefix(ea,function(fa,ga){if(fa||!ga){da();return;}try{s.multiRemove(ga,function(){da();});}catch(ha){da();}});},flushAsyncStorage:function ba(ca){var da=aa.createPrefix(0),ea=['0'],fa=new Blob(ea,{type:'text/html'});try{s.setItem(da,fa,function(){try{s.removeItem(da,function(){ca();});}catch(ga){ca();}});}catch(ga){try{s.removeItem(da,function(){ca();});}catch(ha){ca();}}},getObjectKeysFromAsyncStorageByPrefix:function ba(ca,da){try{s.getAllKeys(function(ea,fa){if(ea||!fa){da(ea);return;}fa=fa.filter(function(ga){return ga.startsWith(ca);});da(null,fa);});}catch(ea){da(ea);}},getVideosFromAsyncStorage:function ba(ca){aa.getObjectKeysFromAsyncStorageByPrefix(q.getUserPrefix(),function(da,ea){if(da||!ea){ca(da);return;}var fa=ea.map(aa.getVideoIDFromStorageKey),ga=fa.reduce(function(ha,ia){ha[ia]=true;return ha;},{});ca(null,Object.keys(ga));});},makeLocalAsyncStorageConsistent:function ba(ca,da){var ea=aa.getCachedVideoIDs(true);aa.getVideosFromAsyncStorage(function(fa,ga){if(fa||!ga){ca();return;}var ha={},ia=ea.concat(ga);ia.forEach(function(ja){if(!ha[ja]){ha[ja]=1;}else ha[ja]++;});ha=Object.keys(ha).filter(function(ja){return ha[ja]===1;});if(ha.length>0)aa.deleteVideosByID(ha,da,l.CONSISTENCY_CHECK);ca();});},getCachedStream:function ba(ca,da,ea,fa,ga){var ha=aa.createPrefix(ca.videoID,da,ga);try{s.getItem(ha,function(ia,ja){if(ia){aa.deleteVideoByID(ca.videoID);fa();}else ea(ja);});}catch(ia){aa.deleteVideoByID(ca.videoID);fa();}},saveVideoInLocalStorage:function ba(ca){var da=ca.videoID&&aa.createPrefix(ca.videoID);try{t.getLocalStorage().setItem(da,JSON.stringify(ca));}catch(ea){throw ea;}},saveCachedVideo:function ba(ca){var da={};da.downloadStartedTime=ca.downloadStartedTime;da.downloadReason=ca.downloadReason;da.videoID=ca.videoID;da.quality=ca.quality;da.audioCodec=aa.getResourceCodec(ca,y.audio);da.videoCodec=aa.getResourceCodec(ca,y.video);da.totalSize=ca.totalSize;da.offlineLifespan=ca.offlineLifespan;da.viewCount=0;da.sessionID=ca.sessionID;da.downloadOrigin=ca.origin;da.chunked=ca.chunked;da.videoChunkCount=ca.videoChunkCount;da.audioChunkCount=ca.audioChunkCount;aa.saveVideoInLocalStorage(da);},logPlaybackRequest:function ba(ca,da,ea){var fa=null;if(da){var ga=aa.getCachedVideoByID(ca),ha=ga.viewCount||0;ga.viewCount=ha+1;aa.saveVideoInLocalStorage(ga);}else fa=aa.ERROR.NO_ACCESS;var ia={};ia[k.ERROR_CODE]=fa;ia[k.REASON]=ea;aa.logEvent(ca,j.REQUESTED_PLAYING,ia);},createPrefix:function ba(ca,da,ea){var fa=q.getUserPrefix()+ca+q.PREFIX_SEPARATOR+aa.DEFAULT_QUALITY_TAG;if(da)fa=fa+q.PREFIX_SEPARATOR+da;if(ea!=undefined&&ea!=null)fa=fa+q.PREFIX_SEPARATOR+ea;return fa;},createResource:function ba(ca,da,ea,fa){var ga={};ga.src=ca;ga.type=da;ga.state=aa.RESOURCE_STATE.loading;ga.codec=ea;ga.size=fa;ga.progress=0;return ga;},getDefaultVideoStream:function ba(ca){var da=null;for(var ea=0;ea<ca.length;ea++){var fa=ca[ea],ga=String(fa.mimetype);if(ga&&ga.startsWith(y.video)){da=fa;if(fa['default'])return fa;}}return da;},getStreamsForQuality:function ba(ca,da){var ea=[],fa=ca&&ca.streams,ga=false,ha=false;for(var ia=0;ia<fa.length;ia++){var ja=fa[ia],ka=String(ja.mimetype);if(ka&&ka.startsWith(y.video)&&!ga){var la=String(ja.quality);if(da&&la&&la===da)ga=!!ea.push(ja);}else if(ka&&ka.startsWith(y.audio)&&!ha)ha=!!ea.push(ja);}if(!ga){var ma=aa.getDefaultVideoStream(fa);ma&&ea.push(ma);}return ea;},getUrlInfo:function ba(ca,da,ea){var fa=aa.getStreamsForQuality(ca,ea);if(!fa)return null;var ga=null;for(var ha=0;ha<fa.length;ha++){var ia=fa[ha],ja=String(ia.mimetype);if(ja&&ja.startsWith(da)){ga=ia;break;}}return ga;},createVideoResource:function ba(ca,da){var ea=aa.getUrlInfo(ca,y.video,da);return ea&&aa.createResource(ea.url,y.video,ea.codecs,ea.size);},createAudioResource:function ba(ca,da){var ea=aa.getUrlInfo(ca,y.audio,da);return ea&&aa.createResource(ea.url,y.audio,ea.codecs,ea.size);},addTracking:function ba(ca){if(u[ca.videoID])return false;u[ca.videoID]=ca;return true;},createTracking:function ba(ca,da,ea,fa,ga,ha,ia,ja,ka,la){var ma={};ma.videoID=ca;ma.quality=ia||aa.DEFAULT_QUALITY_TAG;ma.onDone=fa;ma.onError=ga;ma.onProgress=ha;ma.resources=[];ma.deleted=false;ma.loaded=0;ma.totalSize=da;ma.offlineLifespan=ea;ma.sessionID=i.generateSessionID();ma.origin=ja;ma.logger=aa.createLogger(ma);ma.downloadStartedTime=Date.now();ma.chunked=r.cache_chunked_storage_enabled;ma.loggingDataCallback=la;ma.downloadReason=ka;return ma;},getTracking:function ba(ca){return u[ca];},deleteTracking:function ba(ca,da){var ea={};ea[k.REASON]=ca.downloadReason;if(!ca.deleted){ca.deleted=true;u[ca.videoID]=null;if(da){var fa;for(fa=0;fa<ca.resources.length;fa++)try{ca.resources[fa].downloader&&ca.resources[fa].downloader.abort();}catch(ga){aa.logEventTracking(ca,j.DOWNLOAD_FAILED,ea);}}}},getResourceCodec:function ba(ca,da){var ea,fa,ga;ga=ca.resources.length;for(fa=0;fa<ga;fa++){ea=ca.resources[fa];if(ea.type===da)return ea.codec;}return null;},updateTracking:function ba(ca,da,ea){var fa,ga,ha;if(ca.deleted)return;if(ea)da.state=ea;if(da.state===aa.RESOURCE_STATE.finished)if(da.type===y.video){ca.videoChunkCount=da.chunkCount;}else if(da.type===y.audio)ca.audioChunkCount=da.chunkCount;if(da.state===aa.RESOURCE_STATE.loading){ca.resources.push(da);}else{var ia=aa.RESOURCE_STATE.finished;ga=ca.resources.length;for(fa=0;fa<ga;fa++){ha=ca.resources[fa];if(ha.state===aa.RESOURCE_STATE.loading){ia=aa.RESOURCE_STATE.loading;break;}else if(ha.state===aa.RESOURCE_STATE.error)ia=aa.RESOURCE_STATE.error;}if(ia===aa.RESOURCE_STATE.error){aa.deleteTracking(ca);aa.deleteCachedVideoFromStorage(ca.videoID,function(){aa.onError(ca);});}else if(ia===aa.RESOURCE_STATE.finished)try{aa.saveCachedVideo(ca);aa.deleteTracking(ca);aa.onDone(ca);}catch(ja){aa.deleteCachedVideoFromStorage(ca.videoID,function(){aa.onError(ca);});}}},trackProgress:function ba(ca){var da=0;for(var ea in ca.resources)if(Object.prototype.hasOwnProperty.call(ca.resources,ea))da+=ca.resources[ea].progress;ca.loaded=da;var fa={};fa[k.BYTES_DOWNLOADED]=ca.loaded;aa.logEventTracking(ca,j.DOWNLOAD_PROGRESS,fa);return da;},sendResourceRequest:function ba(ca,da){var ea=new p(da.src,da.size);if(ca.chunked){ea.setChunkedResponseHandler(function(fa){try{var ga=[];for(var ha=0;ha<fa.length;ha++){var ia=[],ja=aa.createPrefix(ca.videoID,da.type,ha);ia.push(ja);var ka=fa[ha];ia.push(ka);ga.push(ia);}s.multiSet(ga,function(la){da.chunkCount=fa.length;aa.updateTracking(ca,da,la?aa.RESOURCE_STATE.error:aa.RESOURCE_STATE.finished);});}catch(la){aa.updateTracking(ca,da,aa.RESOURCE_STATE.error);}});}else ea.setResponseHandler(function(fa){try{var ga=aa.createPrefix(ca.videoID,da.type);s.setItem(ga,fa,function(ha){aa.updateTracking(ca,da,ha?aa.RESOURCE_STATE.error:aa.RESOURCE_STATE.finished);});}catch(ha){aa.updateTracking(ca,da,aa.RESOURCE_STATE.error);}});ea.setErrorHandler(function(){aa.updateTracking(ca,da,aa.RESOURCE_STATE.error);});ea.setProgressHandler(function(fa){if(fa.total){da.progress=fa.loaded;ca.onProgress(aa.trackProgress(ca),ca.totalSize);}});ea.setAbortHandler(function(){setTimeout(function(){aa.updateTracking(ca,da,aa.RESOURCE_STATE.error);},v);});aa.updateTracking(ca,da);da.downloader=ea;ea.sendRequest();},createLogger:function ba(ca){var da={};da[k.DOWNLOAD_ORIGIN]=ca.origin;da[k.QUALITY]=ca.quality;da[k.SESSION_ID]=ca.sessionID;da[k.TOTAL_SIZE]=ca.totalSize;da[k.VIDEO_ID]=ca.videoID;return new i(da);},getLogger:function ba(ca){if(!ca.logger)return null;return ca.logger;},logEvent:function ba(ca,event,da){var ea=new i();da=da||{};da[k.VIDEO_ID]=ca;var fa=aa.getCachedVideoByID(ca);if(fa){da[k.DOWNLOAD_ORIGIN]=fa.downloadOrigin;da[k.SESSION_ID]=fa.sessionID;da[k.TOTAL_SIZE]=fa.totalSize;da[k.QUALITY]=da[k.QUALITY]?da[k.QUALITY]:fa.quality;da[k.SAVED_OFFLINE]=1;}ea.logEvent(event,da);},logEventTracking:function ba(ca,event,da){var ea=this.getLogger(ca);da=da||{};if(!Object.prototype.hasOwnProperty.call(da,k.REASON))da[k.REASON]=ca.downloadReason;if(ca.loggingDataCallback){var fa=ca.loggingDataCallback;da=fa(da);}da[k.ELAPSED_TIME_MS]=Date.now()-ca.downloadStartedTime;ea.logEvent(event,da);},onError:function ba(ca,da,ea){var fa={};fa[k.ERROR_CODE]=da;fa[k.ERROR]=ea;aa.logEventTracking(ca,j.DOWNLOAD_FAILED,fa);ca.onError(da);},onDone:function ba(ca){aa.logEventTracking(ca,j.DOWNLOAD_FINISHED);ca.onDone();}};f.exports=aa;}),null);
__d('MVideoDownloadState',[],(function a(b,c,d,e,f,g){var h={DOWNLOADING:'downloading',DOWNLOADED:'downloaded',DELETING:'deleting',NOTDOWNLOADED:'notdownloaded'};f.exports=h;}),null);
__d('MVideoDownloadStateHandler',['MVideoDownloadState','MVideoCache'],(function a(b,c,d,e,f,g,h,i){var j=null;function k(){'use strict';this.$MVideoDownloadStateHandler1={};this.$MVideoDownloadStateHandler2={};}k.prototype.addListener=function(l,m){'use strict';if(!this.$MVideoDownloadStateHandler1[l])this.$MVideoDownloadStateHandler1[l]=[];this.$MVideoDownloadStateHandler1[l].push(m);};k.removeListeners=function(l){'use strict';if(this.$MVideoDownloadStateHandler3().$MVideoDownloadStateHandler1[l])this.$MVideoDownloadStateHandler3().$MVideoDownloadStateHandler1[l]=[];};k.prototype.setState=function(l,m){'use strict';l.forEach(function(n){this.$MVideoDownloadStateHandler2[n]=m;if(!this.$MVideoDownloadStateHandler1[n])return;var o=this.$MVideoDownloadStateHandler1[n];o.forEach(function(p){try{p.call(window,m);}catch(q){}});},this);};k.prototype.getState=function(l){'use strict';return this.$MVideoDownloadStateHandler2[l];};k.$MVideoDownloadStateHandler3=function(){'use strict';if(!j)j=new k();return j;};k.listen=function(l,m){'use strict';this.$MVideoDownloadStateHandler3().addListener(l,m);this.initializeState(l);};k.initializeState=function(l){'use strict';if(i.isVideoDownloaded(l)){k.downloaded([l]);}else if(i.isVideoDownloading(l)){k.downloading([l],i.getVideoProgressByID(l),i.getVideoSize(l));}else k.deleted([l]);};k.getState=function(l){'use strict';return this.$MVideoDownloadStateHandler3().getState(l);};k.downloading=function(l,m,n){'use strict';this.$MVideoDownloadStateHandler3().setState(l,{state:h.DOWNLOADING,loaded:m,total:n});};k.downloaded=function(l){'use strict';this.$MVideoDownloadStateHandler3().setState(l,{state:h.DOWNLOADED});};k.cleanup=function(l){'use strict';this.$MVideoDownloadStateHandler3().setState(l,{state:h.DELETING});};k.deleted=function(l,m){'use strict';this.$MVideoDownloadStateHandler3().setState(l,{state:h.NOTDOWNLOADED,errorMessage:m});};f.exports=k;}),null);
__d("XVideoCacheCleanUpController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video_cache_cleanup\/",{video_ids:{type:"StringVector",required:true}});}),null);
__d('MVideoCacheCleanUp',['MVideoCache','MVideoCacheConfig','MVideoDownloadStateHandler','MRequest','XVideoCacheCleanUpController','MVideoDownloadConfig','setTimeoutAcrossTransitions','VideoDownloadReason','VideoDownloadDeleteReason'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=10000,r=null,s={clean:function t(){s.deleteExpiredVideos();r=null;var u=h.getCachedVideoIDs(true);if(u.length==0){s.setLastCleanUpDate();return;}var v=l.getURIBuilder().setStringVector('video_ids',u).getURI(),w=new k(v);w.setMethod('POST');w.listen('done',function(x){var y=x.payload||{};if(!y.error){s.setLastCleanUpDate();var z=[].concat(y.offlineDisabled,y.unaccessible,y.unsaved);if(z.length>0)s.deleteVideosByID(z);}});w.send();},deleteExpiredVideos:function t(){var u=h.getCachedVideosMetadata([h.DOWNLOAD_STARTED_TIME,h.DOWNLOAD_REASON,h.OFFLINE_LIFESPAN]),v=[],w=Date.now(),x=w-m.cache_auto_downloaded_videos_caching_interval_ms;for(var y in u){var z=u[y];if(z.downloadReason===o.AUTO_INITIATED&&z.downloadStartedTime<x||z.downloadStartedTime<w-z.offlineLifespan)v.push(y);}if(v.length>0)s.deleteVideosByID(v);},deleteVideosByID:function t(u){h.deleteVideosByID(u,function(v){j.deleted([v]);},p.CACHE_SYNC);},requestCleanUp:function t(){if(i.isSupported()&&h.isSupported()){var u=s.getLastCleanUpDate(),v=Date.now()-m.cache_sync_interval_ms,w=u<v;if(w&&!r)r=n(function(){h.makeLocalAsyncStorageConsistent(s.clean,function(x){j.deleted([x]);});},q);}},getLastCleanUpDate:function t(){if(i.isSupported()){return i.getItemFromConfig(i.KEYS.lastCleanUp);}else return 0;},setLastCleanUpDate:function t(){if(i.isSupported()){var u=Date.now();i.setItemFromConfig(i.KEYS.lastCleanUp,u);}},checkAccess:function t(u){var v=u.downloadStartedTime,w=s.getLastCleanUpDate(),x=Math.max(v,w),y=Date.now();s.requestCleanUp();var z=x+m.allowed_offline_access_interval_ms,aa=z>y;return aa;}};f.exports=s;}),null);
__d("MVideoMediaSourceState",[],(function a(b,c,d,e,f,g){function h(i){"use strict";this.$MVideoMediaSourceState2=false;this.$MVideoMediaSourceState1=false;this.$MVideoMediaSourceState3=i;}h.prototype.getMediaSource=function(){"use strict";return this.$MVideoMediaSourceState3;};h.prototype.videoStreamEnded=function(){"use strict";this.$MVideoMediaSourceState2=true;this.$MVideoMediaSourceState4();};h.prototype.audioStreamEnded=function(){"use strict";this.$MVideoMediaSourceState1=true;this.$MVideoMediaSourceState4();};h.prototype.$MVideoMediaSourceState4=function(){"use strict";if(this.$MVideoMediaSourceState1&&this.$MVideoMediaSourceState2)this.$MVideoMediaSourceState3.endOfStream();};f.exports=h;}),null);
__d('SubRipText',[],(function a(b,c,d,e,f,g){var h={size:'90%'};function i(t){var u=Number(t.substr(0,t.length-1)),v=t.substr(-1);switch(v){case 's':return u;case 'm':return u*60;case 'h':return u*3600;}var w=t.split(':');u=Number(w[w.length-1].replace(/,/,'.'));if(w.length>1)u+=Number(w[w.length-2])*60;if(w.length>2)u+=Number(w[w.length-3])*3600;return u;}function j(t){var u=t.split(/\r\n|\r|\n/).map(function(z){return z.trim();}),v=[],w=0;do{var x=u.indexOf('',w);if(x<0)x=u.length;var y=l(u.slice(w,x));if(y)v.push(y);w=x+1;}while(w>0&&w<u.length);return v;}function k(t){var u=t.split('-->');if(u.length!=2)return null;var v=i(u[0].trim()),w=i(u[1].trim());if(Number.isNaN(w)||Number.isNaN(v))return null;return {begin:v,end:w};}function l(t){if(t.length<3)return null;var u=m(t[0]),v=k(t[1]);if(!v)return null;return {counter:u,begin:v.begin,end:v.end,text:t.slice(2,6)};}function m(t){return Number(t.trim());}function n(t){var u=t.split('.');if(u[0].length<2)return '0'+u.join('.');return u.join('.');}function o(t){var u=n(Math.floor(t/3600).toString()),v=n(Math.floor(t%3600/60).toString()),w=n((t%60).toFixed(3));return u+':'+v+':'+w;}function p(t,u,v){var w='';if(v)for(var x in v)w+=' '+x+':'+v[x];return o(t)+' --> '+o(u)+w;}function q(t,u){return t.counter+'\n'+p(t.begin,t.end,u)+'\n'+t.text.join('\n')+'\n';}function r(t,u){return 'WEBVTT\n\n'+t.map(function(v){return q(v,u);}).join('\n');}function s(t){'use strict';this.$SubRipText1=j(t);this.$SubRipText1.sort(function(u,v){return u.counter-v.counter;});this.$SubRipText2=this.$SubRipText1.map(function(u,v){return v;}).sort(function(u,v){return this.$SubRipText1[u].begin-this.$SubRipText1[v].begin;}.bind(this));this.invalidateCache();this.$SubRipText6=h;}s.prototype.$SubRipText7=function(t){'use strict';return this.$SubRipText1[this.$SubRipText2[t]];};s.prototype.$SubRipText8=function(t){'use strict';var u=this.$SubRipText3;while(u<this.$SubRipText2.length){var v=this.$SubRipText7(u);if(v.begin<=t){this.$SubRipText4.push(v);u++;}else break;}this.$SubRipText3=u;};s.prototype.$SubRipText9=function(t){'use strict';this.$SubRipText4=this.$SubRipText4.filter(function(u){return u.end>t;});};s.prototype.invalidateCache=function(){'use strict';this.$SubRipText5=0;this.$SubRipText4=[];this.$SubRipText3=0;};s.prototype.setStyle=function(t){'use strict';this.$SubRipText6=t;};s.prototype.getSubtitles=function(t){'use strict';if(t<this.$SubRipText5)this.invalidateCache();this.$SubRipText5=t;this.$SubRipText8(t);this.$SubRipText9(t);return this.$SubRipText4.reduce(function(u,v){return u.concat(v.text);},[]);};s.prototype.renderVTT=function(){'use strict';return r(this.$SubRipText1,this.$SubRipText6);};f.exports=s;}),null);
__d('MVideoSubtitles',['DOM','EventListener','SubRipText','XHRRequest','emptyFunction','fbt','getCrossOriginTransport'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o=b.URL||b.webkitURL;function p(q){'use strict';this.$MVideoSubtitles1=q;this.$MVideoSubtitles2=l;}p.prototype.$MVideoSubtitles3=function(q){'use strict';var r=new j(q),s=new Blob([r.renderVTT()],{type:'text/vtt'});return o.createObjectURL(s);};p.prototype.loadSubtitles=function(q){'use strict';if(!o)return;new k(q).setTransportBuilder(n).setMethod('GET').setResponseHandler(function(r){this.$MVideoSubtitles4(this.$MVideoSubtitles3(r));}.bind(this)).send();};p.prototype.$MVideoSubtitles4=function(q){'use strict';var r=h.create('track',{label:m._("On"),kind:'captions',src:q});i.listen(r,'load',function(){this.$MVideoSubtitles2();}.bind(this));h.appendContent(this.$MVideoSubtitles1,r);this.hideSubtitles();};p.prototype.showSubtitles=function(){'use strict';Array.prototype.forEach.call(this.$MVideoSubtitles1.textTracks,function(q){return q.mode='showing';});};p.prototype.hideSubtitles=function(){'use strict';Array.prototype.forEach.call(this.$MVideoSubtitles1.textTracks,function(q){return q.mode='hidden';});};p.prototype.setOnSubtitlesReady=function(q){'use strict';this.$MVideoSubtitles2=q;};f.exports=p;}),null);
__d('Network',['mixInEventEmitter'],(function a(b,c,d,e,f,g,h){var i=true,j=b.navigator.connection,k={0:'unknown',1:'ethernet',2:'wifi',3:'2g',4:'3g'};function l(){return i;}function m(r){if(r==i)return;i=r;q.emit(r?'online':'offline');}function n(){return j?j.bandwidth:i?Infinity:0;}function o(){return j?j.metered:false;}function p(){var r=j?String(j.type):'0';return k[r]||r;}var q={getBandwidth:n,getType:p,isMetered:o,isOnline:l,setOnline:m};h(q,{online:true,offline:true});if(b.addEventListener){b.addEventListener('online',m.bind(null,true));b.addEventListener('offline',m.bind(null,false));}else if(b.attachEvent){b.attachEvent('online',m.bind(null,true));b.attachEvent('offline',m.bind(null,false));}f.exports=q;}),null);
__d('isCdnURI',['CdnAkamaiDomainsConfig'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){if(j.getProtocol()!=='http'&&j.getProtocol()!=='https')return false;var k=j.getPort();if(!!k&&k!==80&&k!==443)return false;if(j.isSubdomainOfDomain('fbcdn.net'))return true;return h[j.getDomain()]!=undefined;}f.exports=i;}),null);
__d('MVideoUtils',['Bootloader','CSS','DataAttributeUtils','DOM','MParent','MVideoExperiments','MVideoSubtitles','Network','SubscriptionsHandler','URI','cx','getElementPosition','getViewportDimensions','setTimeoutAcrossTransitions','isCdnURI'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w=.5,x=0,y=null,z=null,aa=null,ba={PLAY_SIGIL:'playInlineVideo',INSERTION_POINT_SIGIL:'inlineVideo',LOADING_CLASS:"_2nmc",SHOWN_CLASS:"_53mu",SHOWN_CLASS_WITH_DOWNLOAD:"_2qoq",PLAYER_CLASS:"_53mv",FULL_WIDTH_PLAYER_CLASS:"_2c9v",SHOW_PAUSE_CLASS:"_3gzh",SPHERICAL_CLASS:"_4a1j",PLAYER_ID:{video:'mInlineVideoPlayer',iframe:'mInlineVideoFrame'},PLAYER_ATTRS:{video:function ca(da){return {autobuffer:'true',controls:da?undefined:'controls','x-webkit-airplay':'allow'};},iframe:function ca(){return {frameBorder:0};}},PLAYER_STATE:{playing:'playing',paused:'paused'},createNodeFromTag:function ca(da,ea,fa,ga){var ha=null;if(ea||!fa||fa.id!==this.PLAYER_ID[da]){ha=k.create(da,this.PLAYER_ATTRS[da](!!ea));}else ha=fa;ha.id=this.PLAYER_ID[da];i.conditionClass(ha,this.FULL_WIDTH_PLAYER_CLASS,ga);i.conditionClass(ha,this.PLAYER_CLASS,true);return ha;},onPlay:function ca(da){i.conditionClass(da,this.SHOW_PAUSE_CLASS,false);},onPause:function ca(da){i.conditionClass(da,this.SHOW_PAUSE_CLASS,true);},play:function ca(da){if(m.isKaiOS){if(da)da.play();return;}u(function(){if(da)da.play();},100);},setVideoDimensions:function ca(da,ea){if(da.width)ea.setAttribute('width',da.width);if(da.height)ea.setAttribute('height',da.height);},setSubtitles:function ca(da,ea){var fa;if(v(new q(da.subtitlesSrc)))(function(){var ga=new n(ea);ga.setOnSubtitlesReady(function(){return ga.showSubtitles();});ga.loadSubtitles(da.subtitlesSrc);})();},setupListenersOnPlay:function ca(da,ea,fa){if(!da)da=new p();da.addSubscriptions(k.listen(ea,'pause',null,function(){return this.onPause(fa);}.bind(this)),k.listen(ea,'play',null,function(){return this.onPlay(fa);}.bind(this)));},getStoryNode:function ca(da){return da&&da.getNode('story-div');},getStoryNodeForVideoNode:function ca(da){return l.bySigil(da,'story-div');},_handleLoggingOnPlayWithBootload:function ca(da,ea,fa,ga){if(y.isLoggedIn()){ga=this.getStoryNode(da)||ga;if(ga){var ha=j.getDataFt(ga);if(ha){var ia={ft:JSON.parse(ha)};if(ea){var ja=ea.getLogger();ja.setFTData(ia);}if(fa.fbid&&fa.ownerID){ha=z.parse(ha,f.id);ha.video_info={video_id:fa.fbid,owner_id:fa.ownerID};ha=z.stringify(ha);}new aa('/feedtracking/').setMethod('POST').setData({ft_data:ha,clicked_uri:fa.src,tn:fa.trackingNodes}).send();}}}},handleLoggingOnPlay:function ca(da,ea,fa,ga){h.loadModules(["CurrentUser","FBJSON","MRequest"],function(ha,ia,ja){y=ha;z=ia;aa=ja;ba._handleLoggingOnPlayWithBootload(da,ea,fa,ga);},'MVideoUtils');},getHumanReadbleSize:function ca(da){var ea=1000,fa=ea*ea,ga=ea*ea*ea;if(da>ga){return this.formatNumber(da,ga,2)+' GB';}else return this.formatNumber(da,fa,1)+' MB';},formatNumber:function ca(da,ea,fa){return Math.ceil(da/(ea/Math.pow(10,fa)))/Math.pow(10,fa);},getDownloadProgressText:function ca(da,ea){return ba.getHumanReadbleSize(da)+' / '+ba.getHumanReadbleSize(ea);},getDownloadProgressPercentage:function ca(da,ea){var fa=da/ea*100;fa=fa.toFixed(1);return fa.toString();},getConnectivityType:function ca(){var da=o.getType(),ea=null;if(da=='wifi'||da=='WIFI'){ea='WIFI';}else if(da=='cellular'||da=='2g'||da=='3g'||da=='wwan')ea='MOBILE';return ea;},getNetworkBandwidth:function ca(){var da=null;if('connection' in navigator)if('downlinkMax' in navigator.connection)da=navigator.connection.downlinkMax;var ea=null;try{ea=parseFloat(da);}catch(fa){}return ea;},getAvailableQualitiesString:function ca(da){return da&&da.join(', ');},setAttributes:function ca(da,ea){if(ea.spherical)da.setAttribute('crossorigin','anonymous');da.setAttribute('playInFullScreen',ea.playInFullScreen);if(ea.muted)da.setAttribute('muted',true);},isVisible:function ca(da){var ea=t().height,fa=t().width;if(da.height===0)return false;var ga=da.y-x+(1-w)*da.height,ha=da.y+w*da.height,ia=da.x+(1-w)*da.width,ja=da.x+w*da.width;if(ga<0||ha>=ea||ia<0||ja>=fa)return false;return true;},calculateViewabilityPercentage:function ca(da){var ea=t().width,fa=t().height,ga=s(da);if(ga.width===0||ga.height===0)return 0;var ha=ga.x,ia=ga.x+ga.width,ja=ga.y,ka=ga.y+ga.height;if(ia<=0||ha>=ea||ka<=0||ja>=fa)return 0;var la=0,ma=0;if(ha<0){la=ia;}else if(ia>ea){la=ea-ha;}else la=ia-ha;if(ja<0){ma=ka;}else if(ka>fa){ma=fa-ja;}else ma=ka-ja;return la*ma*100/(ga.width*ga.height);}};f.exports=ba;}),null);
__d('MVideoViewabilityLogging',['DOM','MFullScreen','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i,j){function k(l,m){'use strict';this.$MVideoViewabilityLogging1=l;this.$MVideoViewabilityLogging3=m;this.$MVideoViewabilityLogging4();}k.prototype.$MVideoViewabilityLogging4=function(){'use strict';if(!this.$MVideoViewabilityLogging2)this.$MVideoViewabilityLogging2=new j();this.$MVideoViewabilityLogging2.addSubscriptions(h.listen(this.$MVideoViewabilityLogging1,'pause',null,function(){return this.$MVideoViewabilityLogging5();}.bind(this)),h.listen(this.$MVideoViewabilityLogging1,'play',null,function(){return this.$MVideoViewabilityLogging6();}.bind(this)));i.listenForFullScreenEvent(window,this.$MVideoViewabilityLogging7);};k.prototype.$MVideoViewabilityLogging5=function(){'use strict';};k.prototype.$MVideoViewabilityLogging6=function(){'use strict';};k.prototype.$MVideoViewabilityLogging7=function(){'use strict';};k.prototype.releaseListeners=function(){'use strict';if(this.$MVideoViewabilityLogging2){this.$MVideoViewabilityLogging2.release();this.$MVideoViewabilityLogging2=null;}};f.exports=k;}),null);
__d('showVideoUnavailableDialog',['MCustomDialog','fbt'],(function a(b,c,d,e,f,g,h,i){function j(){var k=i._("Videos No Longer Available"),l=i._("Please connect to the Internet and try again."),m=i._("OK");h.show({titleString:k,descriptionString:l,dismissButtonString:m});}f.exports=j;}),null);
__d('MInlineVideo',['Bootloader','CSS','DOM','MFullScreen','MInlineVideoUnit','MLegacyDataStore','MStopNGo','MVideoCache','MVideoCacheCleanUp','MVideoDownloadConfig','MVideoExperiments','MVideoMediaSourceState','MVideoPlayerVisibilityBehavior','MVideoUtils','MVideoViewabilityLogging','MViewport','Stratcom','SubscriptionsHandler','VideoPlayerLoggerEvent','VideoPlayerReason','emptyFunction','getElementPosition','isNodeWithinRect','showVideoUnavailableDialog','throttle'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){var ga,ha,ia,ja=false,ka=false,la=aa.USER,ma=u.PLAYER_STATE.paused,na=null,oa=false,pa=null,qa,ra=null,sa,ta,ua=null,va=false,wa=null,xa={playRequest:Function,registerPlayRequest:function jc(kc){this.playRequest=kc;},onComponentReady:function jc(){if(ta&&ua&&this.playRequest)this.playRequest();}},ya=1000/15;function za(jc){oa=jc;if(ka)return;x.listen('click',u.PLAY_SIGIL,qb);x.listen('m:page:unload',null,fb);x.listen(['m:jewel:flyout:open','m:popup:show','m:side-area:show'],null,gb);ka=true;}function ab(){if(ga&&ga.getAttribute('playInFullScreen')==='true'&&!k.isFullScreen()&&!ja){fb();k.removeFullScreenEventListeners(window,ab);}}function bb(jc){if(oa)x.invoke('m:video:player:fullscreenchange',null,{videoElement:jc,player:ga});}function cb(jc){if(!jc)jc=ha;return ga&&ga.parentNode===jc&&!ja;}function db(){var jc=m.get(ia);wa=jc.defaultQuality;var kc=jc.effectiveSrc,lc=jc.type;if(Array.isArray(kc)&&(lc!=='video'||kc.length===1))kc=kc[0];if(lc==='video'&&Array.isArray(kc)){kc.forEach(function(mc){ga.appendChild(j.create('source',mc));});}else if(kc)ga.setAttribute('src',kc);if(lc==='video')ga.load();}function eb(jc){if(jc){jc.setAttribute('src','');jc.load&&jc.load();}}function fb(){var jc=null;if(!ga||!ga.parentNode)return;if(r.logPauseBeforeDestroyingPlayer){var kc=na;kc.logPauseEvent();}if(ua){ua.unload();ua=null;}if(oa)zb(ia,true);if(ta){ta.unload();ta=null;}j.remove(ga);while(ga.hasChildNodes())ga.removeChild(ga.lastChild);ga.removeAttribute('src');if(m.get(ia).type==='video'&&ga){ga.pause();if(oa)x.invoke('m:video:player:destroy',null,{videoElement:ia,player:ga});jc=ga;ga=null;}i.conditionClass(ia,u.SHOWN_CLASS,false);ja=false;ia=null;ha=null;if(sa){sa&&sa.release();sa=null;}if(qa){qa.release();qa=null;}if(pa){pa.releaseListeners();pa=null;}if(r.enablePlayerStateCleanup&&jc)eb(jc);jc=null;}function gb(){if(!cb())return;if(m.get(ia).type!=='video'){fb();}else if(ga){ga.pause();i.conditionClass(ia,u.SHOWN_CLASS,false);ja=true;}}function hb(){return la;}function ib(jc){var kc=m.get(ia),lc=kc.type,mc=document.getElementById(u.PLAYER_ID[lc]),nc=r.enableSphericalVideo&&kc.spherical,oc=r.msite_video_full_width;if(!mc)mc=u.createNodeFromTag(lc,nc||kc.disableVideoControls,jc,oc);return mc;}function jb(jc){var kc=u.PLAYER_STATE.paused;if(!jc||jc===ia)kc=ma;return kc;}function kb(){return ia;}function lb(jc){if(!ga||!ga.parentNode)return;la=jc;ma=u.PLAYER_STATE.paused;ga.pause();}function mb(jc){if(!ga||!ga.parentNode)return;la=jc;ma=u.PLAYER_STATE.playing;u.play(ga);}function nb(jc){la=jc;}function ob(jc,kc){var lc=null,mc=null;if(kc.videoCodec){lc=jc.getMediaSource().addSourceBuffer('video/mp4; codecs="'+kc.videoCodec+'"');lc.addEventListener('updateend',function(){jc.videoStreamEnded();},false);}else jc.videoStreamEnded();if(kc.audioCodec){mc=jc.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+kc.audioCodec+'"');mc.addEventListener('updateend',function(){jc.audioStreamEnded();},false);}else jc.audioStreamEnded();if(kc.videoCodec)o.getCachedVideoStream(kc,function(nc){var oc=new FileReader();oc.addEventListener('loadend',function(){lc.appendBuffer(oc.result);});oc.readAsArrayBuffer(nc);},ba);if(kc.audioCodec)o.getCachedAudioStream(kc,function(nc){var oc=new FileReader();oc.addEventListener('loadend',function(){mc.appendBuffer(oc.result);});oc.readAsArrayBuffer(nc);},ba);}function pb(jc,kc){var lc=null,mc=null,nc=null,oc=null,pc=function qc(rc,sc,tc){sc.getNextBuffer(function(uc){if(uc){var vc=new FileReader();vc.addEventListener('loadend',function(){rc.appendBuffer(vc.result);});vc.readAsArrayBuffer(uc);}else tc();});};if(kc.videoCodec){nc=o.getCachedVideoStreamObject(kc);lc=jc.getMediaSource().addSourceBuffer('video/mp4; codecs="'+kc.videoCodec+'"');lc.addEventListener('updateend',function(){pc(lc,nc,function(){jc.videoStreamEnded();});},false);}else jc.videoStreamEnded();if(kc.audioCodec){oc=o.getCachedAudioStreamObject(kc);mc=jc.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+kc.audioCodec+'"');mc.addEventListener('updateend',function(){pc(mc,oc,function(){jc.audioStreamEnded();});},false);}else jc.audioStreamEnded();if(kc.videoCodec)pc(lc,nc,function(){jc.videoStreamEnded();});if(kc.audioCodec)pc(mc,oc,function(){jc.audioStreamEnded();});}function qb(jc,kc,lc,mc,nc){if(!kc)kc=jc.getNode(u.INSERTION_POINT_SIGIL);mc=mc||aa.USER;var oc=m.get(kc),pc=o.isVideoDownloading(oc.videoID);if(pc)return;if(cb(kc))return;if(jc)jc.prevent();oc.effectiveSrc=oc.src;var qc=o.isSupported()&&oc.canUseOffline&&o.getCachedVideoByID(oc.videoID);if(qc){var rc=qc&&p.checkAccess(qc);o.logPlaybackRequest(oc.videoID,rc,mc);if(!rc){ea();return;}else{var sc=new s(new MediaSource());sc.getMediaSource().addEventListener('sourceopen',function(){if(q.cache_chunked_playback_enabled){pb(sc,qc);}else ob(sc,qc);},false);oc.effectiveSrc=window.URL.createObjectURL(sc.getMediaSource());}}oc.muted=oc.playMuted!=null?oc.playMuted:!!lc;rb(jc,kc,oc,mc,nc);}function rb(jc,kc,lc,mc,nc){var oc;if(!ja){if(oa)x.invoke('m:video:player:prepare',null,{videoElement:kc,player:ga});fb();ia=kc;ga=ib(nc);if(ga!==nc){u.setAttributes(ga,lc);db();eb(nc);}if(na){na.release();na=null;}if(lc.videoID)na=new l(lc,ga,mc,u.getStoryNodeForVideoNode(ia));j.prependContent(ia,ga);}i.conditionClass(ia,u.SHOWN_CLASS,true);ja=false;va=lc.spherical;u.setVideoDimensions(lc,ga);u.setSubtitles(lc,ga);if(lc.playOnClick&&lc.type==='video'){if(lc.spherical){xa.registerPlayRequest(function(){return mb(mc);});}else mb(mc);if(lc.playInFullScreen&&k.isSupported()){k.listenForFullScreenEvent(window,ab);k.enableFullScreen(ga);if(r.enableVideoExitFullScreenOnEnd)ga.addEventListener('ended',k.disableFullScreen);}}i.conditionClass(ia,u.LOADING_CLASS,true);i.conditionClass(ia,u.SPHERICAL_CLASS,va);sb(ia,lc,ga);if(!ta&&r.enableSphericalVideo&&va)(function(){var pc={toggleQuality:vb,getCurrentVideoQuality:function qc(){return wa;}};h.loadModules(["MEmbeddedVideoControls"],function(qc){ta=new qc(ga,ia,pc);xa.onComponentReady();},'MInlineVideo');})();if(jc)u.handleLoggingOnPlay(jc,na,lc);if(lc.videoViewabilityLoggingEnabled)pa=new v(ga,ia);}function sb(jc,kc,lc){if(!qa)qa=new y();qa.addSubscriptions(j.listen(ga,'pause',null,function(){return zb(jc);}),j.listen(ga,'play',null,function(){return xb(jc);}));if(kc.videoPlayerVisibilityBehavior&&kc.videoPlayerVisibilityBehavior!==t.IGNORE_VISIBILITY)qa.addSubscriptions(x.listen('scroll',null,fa(function(){return yb(jc,kc,lc);},500)));if(va&&r.enableSphericalVideo)qa.addSubscriptions(j.listen(ga,'loadedmetadata',null,function(){return ub(kc);}));if(kc.playStartSec&&kc.playStartSec>0)qa.addSubscriptions(j.listen(ga,'loadedmetadata',null,function(){return dc(kc);}));if(kc.playEndSec!=null)qa.addSubscriptions(j.listen(ga,'timeupdate',null,fa.withBlocking(ec.bind(null,kc),ya)));if(kc.loop&&(kc.playStartSec||kc.playEndSec))qa.addSubscriptions(j.listen(ga,'timeupdate',null,fa.withBlocking(fc.bind(null,kc),ya)));if(oa){qa.addSubscriptions(j.listen(ga,'playing',null,function(){return ac(jc);}));qa.addSubscriptions(j.listen(ga,'ended',null,function(){return bc(jc);}));qa.addSubscriptions(j.listen(ga,'volumechange',null,function(){return cc(jc);}));if(k.isSupported()){if(ra)k.removeFullScreenEventListeners(window,ra);ra=function mc(){return bb(jc);};k.listenForFullScreenEvent(window,ra);}}if(jc.readyState>=jc.HAVE_FUTURE_DATA){gc();}else qa.addSubscriptions(j.listen(ga,'canplay',null,gc));if(kc.animatedGifVideo&&!sa){sa=new y();sa.addSubscriptions(n.listen('go',ic));}if(kc.animatedGifVideo||kc.loop)ga.setAttribute('loop',true);}function tb(event,jc){if(na){var kc={video_quality:wa};if(jc)Object.assign(jc,kc);na.logEvent(event,jc);}}function ub(jc){if(!va||ua)return;va=false;var kc=jc.sphericalParams,lc={projectionType:kc.projection,initialHeading:kc.initialYaw,initialPitch:kc.initialPitch,fieldOfView:kc.initialFieldOfView,expansionCoef:1.01},mc={disableTouchControls:kc.disableSphericalTouchControls},nc={videoID:jc.videoID,logEvent:tb,viewportConfig:mc};h.loadModules(["MVideoPlayerHTML5Spherical"],function(oc){ua=new oc(ga,lc,nc);xa.onComponentReady();},'MInlineVideo');}function vb(){var jc=m.get(ia),kc=o.isSupported()&&o.getCachedVideoByID(jc.videoID);if(kc)return;var lc=jc.availableQualities;if(!lc)return;var mc;for(var nc in lc)if(Object.prototype.hasOwnProperty.call(lc,nc)&&nc!==wa){mc=nc;break;}if(!mc)return;wa=mc;wb(lc[mc]);}function wb(jc){if(ga.tagName!=='VIDEO')return;ga.pause();var kc=ga.currentTime;ga.setAttribute('src',jc);ga.currentTime=kc;ga.load();ga.play();}function xb(jc){if(r.enableVideoPlayRequestedLog)tb(z.REQUESTED_PLAYING,null);if(oa)x.invoke('m:video:player:play',null,{videoElement:jc,player:ga});ma=u.PLAYER_STATE.playing;i.conditionClass(ia,u.SHOW_PAUSE_CLASS,false);}function yb(jc,kc,lc){var mc=u.isVisible(ca(jc));if(!mc&&hb()!==aa.AUTOPLAY&&ma===u.PLAYER_STATE.playing&&(kc.videoPlayerVisibilityBehavior===t.PAUSE||kc.videoPlayerVisibilityBehavior===t.PAUSE_IF_MUTED&&(lc.muted||lc.volume===0))){lb(aa.VIDEO_VISIBILITY);}else if(mc&&ma===u.PLAYER_STATE.paused&&hb()===aa.VIDEO_VISIBILITY)mb(aa.VIDEO_VISIBILITY);}function zb(jc,kc){if(oa)x.invoke('m:video:player:pause',null,{videoElement:jc,player:ga,destroyed:kc});ma=u.PLAYER_STATE.paused;i.conditionClass(ia,u.SHOW_PAUSE_CLASS,true);gc();}function ac(jc){if(oa)x.invoke('m:video:player:playing',null,{videoElement:jc,player:ga});}function bc(jc){if(oa)x.invoke('m:video:player:ended',null,{videoElement:jc,player:ga});}function cc(jc){if(oa)x.invoke('m:video:player:volumechange',null,{videoElement:jc,player:ga});}function dc(jc){if(jc.playStartSec>0)ga.currentTime=jc.playStartSec;}function ec(jc,kc){if(ga.currentTime>jc.playEndSec&&!jc.loop){ga.pause();ma=u.PLAYER_STATE.paused;}}function fc(jc,kc){if(jc.playEndSec&&ga.currentTime>jc.playEndSec||jc.playStartSec&&ga.currentTime==0)ga.currentTime=jc.playStartSec;}function gc(){i.conditionClass(ia,u.LOADING_CLASS,false);}function hc(){var jc=w.getHeight(),kc=w.getWidth(),lc=w.getBoundingRect();return {bottom:jc,height:jc,left:lc.left,top:0,right:lc.left+kc,width:kc};}function ic(){var jc=hc(),kc=da(ia,jc);if(kc&&ma==u.PLAYER_STATE.paused){ga.play();ma=u.PLAYER_STATE.playing;ga.setAttribute('loop',true);}else if(!kc&&ma==u.PLAYER_STATE.playing){ga.pause();ma=u.PLAYER_STATE.paused;ga.setAttribute('loop',false);}}g.getLastActionReason=hb;g.getPlayerState=jb;g.getPlayerDOMVideoElement=kb;g.pause=lb;g.play=mb;g.removePlayer=fb;g.setLastActionReason=nb;g.setupListeners=za;g.showPlayer=qb;}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function a(b,c,d,e,f,g){function h(){var i=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];i.dangerouslyOverrideMediaElementEndedProperty=true;return i;}h.isEnded=function(event){return !!(event&&event.detail&&event.detail.dangerouslyOverrideMediaElementEndedProperty);};f.exports=h;}),null);
__d("HTMLMediaElementReadyStates",[],(function a(b,c,d,e,f,g){var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h;}),null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],(function a(b,c,d,e,f,g,h){function i(j){if(j.readyState>=h.HAVE_METADATA){return j.muted;}else return j.hasAttribute('muted')||j.muted;}f.exports=i;}),null);
__d('HVideoPlayerMixin',['EventListener','UserAgent','VideoPlayerExperiments','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','dangerouslyOverrideMediaElementEndedProperty','getHTMLMediaElementMutedState'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o=-1,p=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function q(s,event){s.time_ms=Date.now();var t=event.timeStamp;if(t&&p){var u=Math.floor(t).toString().length,v=Date.now().toString().length,w=window.performance.now();if(u===v+3){t=Math.floor(t/1000);s.time_ms=t;}else if(u===v){s.time_ms=t;}else if(t<=w){var x=window.performance.timing.navigationStart;s.time_ms=x+Math.floor(t);}}return s;}var r={initLogger:function s(t,u){this._loggedEvents={};this._logFunction=t;this._useEventTime=u;var v=this.getVideoElement();this._lastStartTimePosition=o;this._muted=n(v);this._pausedPosition=o;this._seeking=false;this._seekSourceTimePosition=o;this._volume=v.volume;this._logNextPlayingEvent=true;this._lastPlayedTime=o;var w=false;if(v.readyState>=v.HAVE_FUTURE_DATA){this._logReadyToPlay();}else w=true;if(this.skipSubscriptions())return;var x=this.getSubscriptions();if(w)x.addSubscriptions(h.listen(v,'canplay',this._logReadyToPlay.bind(this)));x.addSubscriptions(h.listen(v,'ended',this.onEnded.bind(this)),h.listen(v,'pause',this.onPause.bind(this)),h.listen(v,'playing',this.onPlaying.bind(this)),h.listen(v,'seeked',this.onSeeked.bind(this)),h.listen(v,'seeking',this.onSeeking.bind(this)),h.listen(v,'play',this.onPlay.bind(this)),h.listen(v,'loadedmetadata',this.onLoadedMetadata.bind(this)),h.listen(v,'timeupdate',this.onTimeUpdate.bind(this)),h.listen(v,'volumechange',this.onVolumeChange.bind(this)));},skipSubscriptions:function s(){return false;},onCanPlay:function s(t){this._logReadyToPlay(t);},onPlay:function s(t){this._logNextPlayingEvent=true;this._ignoreNextPlaying=false;this._pendingPlayRequest=true;},logHeartbeat:function s(){if(k.heartbeatUpdateWatchTime){this._logEvent(l.HEART_BEAT,this._getWatchTimeClosingLogData({}));var t=this._getVideoCurrentTime();this._lastStartTimePosition=t;this._lastPlayedTime=t;}else this._logEvent(l.HEART_BEAT);},_getWatchTimeClosingLogData:function s(t){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers['extends']({video_last_start_time_position:this._lastStartTimePosition===o?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},t));},_logOnce:function s(event,t){if(this._loggedEvents[event])return;this._logEvent(event,t);},_logEvent:function s(event,t){this._loggedEvents[event]=true;var u=t?t:{};u.video_id=this.getVideoID();if(!Object.prototype.hasOwnProperty.call(u,'video_time_position'))u.video_time_position=this._getVideoCurrentTime();if(!u.time_ms)u.time_ms=Date.now();u.time=Math.round(u.time_ms/1000);if(this.getAdClientToken){var v=this.getAdClientToken();if(v)u.ad_client_token=v;}if(this.getPlayerFormat)u.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)u.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)u.player_suborigin=this.getPlayerSuborigin();this._logFunction(event,u);},_logReadyToPlay:function s(){this._logOnce(l.READY_TO_PLAY);},onPause:function s(t){this._logNextPlayingEvent=true;var u=this.getVideoElement();if(this._pendingPlayRequest){var v={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(l.CANCELLED_REQUESTED_PLAYING,v);return;}var event=u.ended||j.abortLoadingDecisioningLogic&&m.isEnded(t)?l.FINISHED_PLAYING:l.PAUSED,w=this._getVideoCurrentTime();if(w)this._lastPlayedTime=w;var x=this._lastPlayedTime,y=t.lastPauseReason;if(event===l.FINISHED_PLAYING){x=Math.max(x,u.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)y=y||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===o?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:x,debug_reason:y},t));this._lastStartTimePosition=o;},onEnded:function s(){this._logNextPlayingEvent=true;if(this._lastStartTimePosition!==o&&i.isBrowser('IE'))this.onPause({});},logRepresentationEnded:function s(t){if(t){var u={representation_id:t.representationID,next_representation_id:t.nextRepresentationID,stream_switch_reason:t.streamSwitchReason};if(k.newStateChangeCalculation)u=this._getWatchTimeClosingLogData(u);this._logEvent(l.REPRESENTATION_ENDED,u);if(k.newStateChangeCalculation){var v=this._getVideoCurrentTime();this._lastStartTimePosition=v;this._lastPlayedTime=v;}}},addWatchTimeData:function s(t){if(this._lastStartTimePosition!=o&&this._lastPlayedTime!=o){t.video_last_start_time_position=this._lastStartTimePosition;t.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=o;}return t;},getLastPlayReason:function s(){return null;},getVideoPlayReason:function s(){return null;},onPlaying:function s(t){if(!this._logNextPlayingEvent)return;if(k.superficialUnpauseEventsFix)this._logNextPlayingEvent=false;if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return;}var u=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[l.STARTED_PLAYING]?l.UNPAUSED:l.STARTED_PLAYING,v=this._amendEventTime({debug_reason:u,video_play_reason:this.getVideoPlayReason()},t),w=this._getVideoCurrentTime();if(k.useCurrentTimeAdjustment){var x=this.getVideoElement().currentTime,y=x-w;v.time_ms-=Math.round(y*1000);}this._logEvent(event,v);this._lastStartTimePosition=w;this._lastPlayedTime=w;this._currentTimeAtLoadedMetadataCache=null;},allowNextSeekInMixin:function s(){this._allowNextSeek=true;},onSeeked:function s(t){this._seeking=false;var u=this._seekSourceTimePosition;this._seekSourceTimePosition=o;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return;}this._allowNextSeek=false;this._ignoreNextPlaying=false;var v={video_seek_source_time_position:u};if(this._lastStartTimePosition!==o){v.video_last_start_time_position=this._lastStartTimePosition;}else v.video_last_start_time_position=u;this._logEvent(l.SCRUBBED,this._amendEventTime(v,t));var w=this.getVideoElement();if(w.paused){this._lastStartTimePosition=o;}else this._lastStartTimePosition=this._getVideoCurrentTime();},onSeeking:function s(t){this._currentTimeAtLoadedMetadataCache=null;if(!this._seeking){this._seekSourceTimePosition=this._getVideoCurrentTime();this._seeking=true;}},onTimeUpdate:function s(t){this._currentTimeAtLoadedMetadataCache=null;var u=this.getVideoElement();if(!u.paused)this._lastPlayedTime=this._getVideoCurrentTime();},onVolumeChange:function s(t){var u=this.getVideoElement(),v={},event=null;if(k.useFixedVolumeLogging){var w=u.muted,x=this._muted,y=u.volume,z=this._volume;v.current_volume=Math.round(y*100);this._volume=y;this._muted=w;var aa=w||y==0,ba=x||z==0;if(ba&&aa)return;if(ba!=aa){if(aa){event=l.MUTED;}else event=l.UNMUTED;}else{if(z==y)return;if(y<z){event=l.VOLUME_DECREASE;}else event=l.VOLUME_INCREASE;}}else{if(u.muted!==this._muted&&u.volume===this._volume&&u.volume>0){event=u.muted?l.MUTED:l.UNMUTED;}else{event=u.volume>this._volume?l.VOLUME_INCREASE:l.VOLUME_DECREASE;v.current_volume=Math.round(u.volume*100);}this._muted=u.muted;this._volume=u.volume;}this._logEvent(event,this._amendEventTime(v,t));},_amendEventTime:function s(t,event){var u=this._useEventTime;if(k.fixEventTimeLogging)u=u&&event;if(u){return q(t,event);}else t.time_ms=Date.now();return t;},_getVideoCurrentTime:function s(){var t=this.getVideoElement().currentTime.toFixed(2);if(k.useCurrentTimeAdjustment)if(this._currentTimeAtLoadedMetadataCache!=null)t=this._currentTimeAtLoadedMetadataCache.toFixed(2);if(k.fixCurrentTimeType)return +t;return t;},onLoadedMetadata:function s(t){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime;}};f.exports=r;}),null);
__d('VideoPlayerLoggerErrorStates',[],(function a(b,c,d,e,f,g){f.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'};}),null);
__d('VideoPlayerLoggerErrors',[],(function a(b,c,d,e,f,g){f.exports={ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'};}),null);
__d('VideoPlayerLoggerFallbackReasons',[],(function a(b,c,d,e,f,g){f.exports={TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'};}),null);
__d('VideoPlayerLoggerPlayerStates',[],(function a(b,c,d,e,f,g){f.exports={STARTED:'started',UNPAUSED:'unpaused'};}),null);
__d('VideoPlayerLogger',['Banzai','ErrorUtils','VideoPlayerExperiments','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerPlayerStates','VideoPlayerLoggerSource','ex','invariant','performanceAbsoluteNow'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';var v=k.useBanzaiVitalForLive,w=k.discerningAbandonStallLogging,x='video_player',y=5000,z=function ba(){return k.useMonotonicallyIncreasingTimers?u():Date.now();};function aa(ba,ca){this.$VideoPlayerLogger2=ba;this.$VideoPlayerLogger3=null;this.$VideoPlayerLogger6={};this.$VideoPlayerLogger4=ca;this.$VideoPlayerLogger8=0;this.$VideoPlayerLogger9=0;this.$VideoPlayerLogger7=[];this.$VideoPlayerLogger16=0;this.$VideoPlayerLogger17=0;this.$VideoPlayerLogger10=0;this.$VideoPlayerLogger22();this.$VideoPlayerLogger23();}aa.prototype.updateSource=function(ba){this.$VideoPlayerLogger2=ba;};aa.prototype.getSource=function(){return this.$VideoPlayerLogger2;};aa.prototype.logEvent=function(event,ba){ba=babelHelpers['extends']({},ba,this.$VideoPlayerLogger4);ba.initial_event=!Object.prototype.hasOwnProperty.call(this.$VideoPlayerLogger6,event);if(!Object.prototype.hasOwnProperty.call(ba,'time_ms'))ba.time_ms=z();if(!Object.prototype.hasOwnProperty.call(ba,'time'))ba.time=Math.round(ba.time_ms/1000);ba.is_stalling=this.$VideoPlayerLogger24();ba.error_user_info=this.$VideoPlayerLogger25(ba.error_user_info);if(this.$VideoPlayerLogger3)Object.assign(ba,this.$VideoPlayerLogger3);switch(event){case l.PLAYER_INITIALIZATION:this.$VideoPlayerLogger5=ba.time_ms;break;case l.REQUESTED_PLAYING:case l.STARTED_PLAYING:case l.PLAYER_ALLOCATED:case l.PLAYER_SENT_REQUEST:case l.PLAYER_RECEIVED_FIRST_BYTE:case l.BUFFER_READY:case l.METADATA_READY:if(!ba.initial_event)break;ba.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger5;break;}switch(event){case o.QUALITY_CHANGE:case o.PAUSED:case o.FINISHED_PLAYING:if(this.$VideoPlayerLogger21){var ca=this.$VideoPlayerLogger21,da=ca.getABREvaluation();ba.ideal_samples=da.idealSamples;ba.conservative_samples=da.conservativeSamples;ba.aggressive_samples=da.aggressiveSamples;ba.conservative_resolution_constrained_samples=da.conservativeResolutionConstrainedSamples;ba.last_quality_switch_reason=da.lastQualitySwitchReason;if(ba.reason)ca.setLastQualitySwitchReason(ba.reason);}break;}switch(event){case o.REQUESTED_PLAYING:this.$VideoPlayerLogger22();this.$VideoPlayerLogger26();if(this.$VideoPlayerLogger6[o.STARTED_PLAYING]){ba.state=q.UNPAUSED;}else ba.state=q.STARTED;break;case o.STARTED_PLAYING:case o.UNPAUSED:case o.FINISHED_PLAYING:case o.CANCELLED_REQUESTED_PLAYING:case o.ERROR:case o.PAUSED:case o.REPRESENTATION_ENDED:case o.HEART_BEAT:if(event===o.ERROR&&j.disableStallLoggingForError)break;if(event==o.REPRESENTATION_ENDED&&!this.$VideoPlayerLogger6[o.STARTED_PLAYING])break;if(event===o.HEART_BEAT&&(!this.$VideoPlayerLogger6[o.STARTED_PLAYING]||!k.heartbeatUpdateWatchTimeV2))break;if(event===o.STARTED_PLAYING||event===o.UNPAUSED){this.$VideoPlayerLogger10=ba.time_ms;this.$VideoPlayerLogger27();}if(event===o.ERROR&&ba.state!==n.PLAYBACK_FAILURE)break;if(event===o.CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger6[o.STARTED_PLAYING]){ba.state=q.UNPAUSED;}else ba.state=q.STARTED;this.$VideoPlayerLogger28();this.$VideoPlayerLogger29();if(event===o.PAUSED||event===o.FINISHED_PLAYING){if(w&&event===o.FINISHED_PLAYING)this.$VideoPlayerLogger27();ba.recent_stalls_count=this.$VideoPlayerLogger30();}this.$VideoPlayerLogger31();this.$VideoPlayerLogger32(ba);this.$VideoPlayerLogger33(ba);this.$VideoPlayerLogger23();if(w)this.$VideoPlayerLogger27();this.$VideoPlayerLogger22();break;}var ea={logData:ba,event:event,scriptPath:this.$VideoPlayerLogger1,source:this.$VideoPlayerLogger2};if(!event)i.reportError(new Error(s('VideoPlayerLogger: Missing event name')),false);this.$VideoPlayerLogger6[event]=true;if(this.$VideoPlayerLogger2===r.ANIMATED_IMAGE_SHARE)return null;if(ba.ad_client_token||v&&ba.playback_is_live_streaming){h.post(x,ea,h.VITAL);}else h.post(x,ea);return ea;};aa.prototype.setScriptPath=function(ba){this.$VideoPlayerLogger1=ba;};aa.prototype.setFTData=function(ba){this.$VideoPlayerLogger3=ba;};aa.prototype.setABRQualityTracker=function(ba){this.$VideoPlayerLogger21=ba;};aa.prototype.startBuffering=function(ba){this.$VideoPlayerLogger26(ba);};aa.prototype.endBuffering=function(){this.$VideoPlayerLogger29();this.$VideoPlayerLogger34();this.$VideoPlayerLogger28();this.$VideoPlayerLogger31();};aa.prototype.startInterrupt=function(){this.$VideoPlayerLogger35();};aa.prototype.endInterrupt=function(){this.$VideoPlayerLogger29();this.$VideoPlayerLogger34();};aa.prototype.$VideoPlayerLogger24=function(){return this.$VideoPlayerLogger13>0;};aa.prototype.$VideoPlayerLogger26=function(ba){if(this.$VideoPlayerLogger24())return;this.$VideoPlayerLogger13=Date.now();if(ba!==undefined&&this.$VideoPlayerLogger6[o.STARTED_PLAYING])this.$VideoPlayerLogger14=ba;};aa.prototype.$VideoPlayerLogger35=function(){if(this.$VideoPlayerLogger36())return;this.$VideoPlayerLogger18=Date.now();};aa.prototype.$VideoPlayerLogger36=function(){return this.$VideoPlayerLogger18>0;};aa.prototype.$VideoPlayerLogger37=function(){if(!this.$VideoPlayerLogger36())return 0;return Date.now()-this.$VideoPlayerLogger18;};aa.prototype.$VideoPlayerLogger38=function(){return this.$VideoPlayerLogger24()?Date.now()-this.$VideoPlayerLogger13:0;};aa.prototype.$VideoPlayerLogger29=function(){if(this.$VideoPlayerLogger36()){var ba=this.$VideoPlayerLogger37();this.$VideoPlayerLogger19+=ba;this.$VideoPlayerLogger17+=ba;this.$VideoPlayerLogger20+=1;this.$VideoPlayerLogger16+=1;}};aa.prototype.$VideoPlayerLogger34=function(){if(this.$VideoPlayerLogger36())this.$VideoPlayerLogger18=0;};aa.prototype.$VideoPlayerLogger23=function(){this.$VideoPlayerLogger19=0;this.$VideoPlayerLogger20=0;this.$VideoPlayerLogger34();};aa.prototype.$VideoPlayerLogger28=function(){if(this.$VideoPlayerLogger24()){var ba=this.$VideoPlayerLogger38();if(this.$VideoPlayerLogger14!==null)this.$VideoPlayerLogger15=ba;this.$VideoPlayerLogger12+=ba;this.$VideoPlayerLogger9+=ba;this.$VideoPlayerLogger11++;this.$VideoPlayerLogger8++;if(w)this.$VideoPlayerLogger7.push(z());}};aa.prototype.$VideoPlayerLogger31=function(){if(this.$VideoPlayerLogger24())this.$VideoPlayerLogger13=0;};aa.prototype.$VideoPlayerLogger25=function(ba){if(ba&&typeof ba=='object')return JSON.stringify(ba);return ba;};aa.prototype.getCumulativeStallCount=function(){return this.$VideoPlayerLogger8;};aa.prototype.getStallCount=function(){return this.$VideoPlayerLogger11;};aa.prototype.getCumulativeStallTime=function(){return this.$VideoPlayerLogger9+this.$VideoPlayerLogger38();};aa.prototype.getCumulativeInterruptCount=function(){return this.$VideoPlayerLogger16;};aa.prototype.getCumulativeInterruptTime=function(){return this.$VideoPlayerLogger17+this.$VideoPlayerLogger37();};aa.prototype.$VideoPlayerLogger32=function(ba){ba.stall_time=Math.max(0,this.$VideoPlayerLogger12);ba.stall_count=this.$VideoPlayerLogger11;if(this.$VideoPlayerLogger15){ba.first_stall_time=this.$VideoPlayerLogger15;ba.first_stall_start_position=this.$VideoPlayerLogger14;}};aa.prototype.$VideoPlayerLogger33=function(ba){ba.interrupt_time=Math.max(0,this.$VideoPlayerLogger19);ba.interrupt_count=this.$VideoPlayerLogger20;};aa.prototype.$VideoPlayerLogger30=function(){var ba=z(),ca=ba-y;this.$VideoPlayerLogger7=this.$VideoPlayerLogger7.filter(function(da){return da>=ca;});if(!w)if(this.$VideoPlayerLogger11>0)this.$VideoPlayerLogger7.push(ba);return this.$VideoPlayerLogger7.length;};aa.prototype.$VideoPlayerLogger22=function(){this.$VideoPlayerLogger12=0;this.$VideoPlayerLogger13=0;this.$VideoPlayerLogger11=0;this.$VideoPlayerLogger14=null;this.$VideoPlayerLogger15=0;};aa.prototype.$VideoPlayerLogger27=function(){this.$VideoPlayerLogger7=[];};aa.Sources=r;aa.Errors=m;aa.FallbackReasons=p;aa.ErrorStates=n;aa.PlayerStates=q;f.exports=aa;}),null);
__d('HVideoPlayerLoggerMixin',['EventListener','HVideoPlayerMixin','VideoPlayerLogger','VideoPlayerLoggerEvent','VideoPlayerVersions'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m={},n={initLogger:function o(){h.listen(this.getVideoElement(),'play',function(){return this._onPlayLogUnmute();}.bind(this));this._logger=new j(j.Sources.HTML5);var p=function(event,q){var r=this.getSavedOffline(),s=this.getConnectivityType(),t=this.getResourceUrl();q=babelHelpers['extends']({},q,{player_version:l.HTML5,saved_offline:r,connectivity_type:s,resource_url:t});if(event===k.UNMUTED)this._unmutedWasLogged=true;this._logger.logEvent(event,q);}.bind(this);i.initLogger.call(this,p);},_onPlayLogUnmute:function o(){var p=this.getLastPlayReason();if(!this._unmutedWasLogged&&!this.getVideoElement().muted&&p=='user_initiated')this._logEvent(k.UNMUTED);},getLogger:function o(){return this._logger;},getAdClientToken:function o(){if(this.getConfig){var p=this.getConfig();if(p.ad_client_token)return p.ad_client_token;}},getSavedOffline:function o(){return null;},logDisplayed:function o(){this._logEvent(k.DISPLAYED,{is_auto_played:true});},logPauseEvent:function o(p){this.onPause(p?p:{});},logEvent:function o(event,p){this._logEvent(event,p);}};Object.assign(m,i);Object.assign(m,n);f.exports=m;}),null);
__d('MInlineVideoUnit',['DataAttributeUtils','EventListener','HVideoPlayerLoggerMixin','MInlineVideo','MVideoCache','MVideoExperiments','MVideoUtils','Stratcom','StratcomManager','SubscriptionsHandler','VideoPlayerLoggerEvent','VideoPlayerReason','mixin'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u,v,w={PLAYING:'playing',PAUSE:'pause',ENDED:'ended',TIMEUPDATE:'timeupdate',SEEKED:'seeked',SEEKING:'seeking'},x=['canplay','play','seeked','seeking'];u=babelHelpers.inherits(y,t(j));v=u&&u.prototype;function y(z,aa,ba,ca){'use strict';v.constructor.call(this);this.$MInlineVideoUnit4=new q();this.$MInlineVideoUnit5=aa;this.$MInlineVideoUnit6=z.videoID;this.$MInlineVideoUnit7=z.playerOrigin;this.$MInlineVideoUnit8=z.playerFormat;this.$MInlineVideoUnit9=z.playerSuborigin;this.$MInlineVideoUnit1=false;this.$MInlineVideoUnit2=false;this.$MInlineVideoUnit10=ba||s.USER;this.$MInlineVideoUnit11=z.src;x.forEach(function(event){p.enableDispatch(this.$MInlineVideoUnit5,event);}.bind(this));this.initLogger();if(ca){var da=h.getDataFt(ca),ea={ft:JSON.parse(da)};this.getLogger().setFTData(ea);}o.listen('m:page:unload',null,function(){this.$MInlineVideoUnit4.release();o.removeCurrentListener();}.bind(this));if(m.dispatchPauseWhenScrubbing){i.listen(this.getVideoElement(),w.PLAYING,function(){return this.$MInlineVideoUnit12();}.bind(this));i.listen(this.getVideoElement(),w.PAUSE,function(){return this.$MInlineVideoUnit13();}.bind(this));i.listen(this.getVideoElement(),w.ENDED,function(){return this.$MInlineVideoUnit14();}.bind(this));i.listen(this.getVideoElement(),w.TIMEUPDATE,function(){return this.$MInlineVideoUnit15();}.bind(this));i.listen(this.getVideoElement(),w.SEEKED,function(){return this.$MInlineVideoUnit16();}.bind(this));i.listen(this.getVideoElement(),w.SEEKING,function(){return this.$MInlineVideoUnit17();}.bind(this));}}y.prototype.$MInlineVideoUnit12=function(){'use strict';this.$MInlineVideoUnit3=w.PLAYING;this.$MInlineVideoUnit18();};y.prototype.$MInlineVideoUnit13=function(){'use strict';this.$MInlineVideoUnit3=w.PAUSE;this.$MInlineVideoUnit19();};y.prototype.$MInlineVideoUnit20=function(){'use strict';this.$MInlineVideoUnit3=w.ENDED;this.$MInlineVideoUnit19();};y.prototype.$MInlineVideoUnit16=function(){'use strict';this.$MInlineVideoUnit3=w.SEEKED;};y.prototype.$MInlineVideoUnit17=function(){'use strict';this.$MInlineVideoUnit3=w.SEEKING;if(this.$MInlineVideoUnit1){this.$MInlineVideoUnit2=this.$MInlineVideoUnit1;this.$MInlineVideoUnit19();this.logPauseEvent({lastPauseReason:s.SEEK});}};y.prototype.$MInlineVideoUnit15=function(){'use strict';if(!this.$MInlineVideoUnit2||this.$MInlineVideoUnit3!==w.SEEKED)return;this.$MInlineVideoUnit3=w.TIMEUPDATE;this.$MInlineVideoUnit21();};y.prototype.$MInlineVideoUnit21=function(){'use strict';this.logEvent(r.REQUESTED_PLAYING,{debug_reason:s.SEEK});this.onPlaying();this.$MInlineVideoUnit18();this.$MInlineVideoUnit2=false;};y.prototype.$MInlineVideoUnit18=function(){'use strict';this.$MInlineVideoUnit1=true;};y.prototype.$MInlineVideoUnit19=function(){'use strict';this.$MInlineVideoUnit1=false;};y.prototype.release=function(){'use strict';this.$MInlineVideoUnit4.release();};y.prototype.getPlayerFormat=function(){'use strict';return this.$MInlineVideoUnit8;};y.prototype.getPlayerOrigin=function(){'use strict';return this.$MInlineVideoUnit7;};y.prototype.getPlayerSuborigin=function(){'use strict';return this.$MInlineVideoUnit9;};y.prototype.getSubscriptions=function(){'use strict';return this.$MInlineVideoUnit4;};y.prototype.getVideoElement=function(){'use strict';return this.$MInlineVideoUnit5;};y.prototype.getVideoID=function(){'use strict';return this.$MInlineVideoUnit6;};y.prototype.getSavedOffline=function(){'use strict';return l.isVideoDownloaded(this.$MInlineVideoUnit6);};y.prototype.getConnectivityType=function(){'use strict';return n.getConnectivityType();};y.prototype.getLastPlayReason=function(){'use strict';return k.getLastActionReason();};y.prototype.getVideoPlayReason=function(){'use strict';return this.$MInlineVideoUnit10;};y.prototype.getResourceUrl=function(){'use strict';if(m.shouldLogResourceUrl)return this.$MInlineVideoUnit11;return null;};f.exports=y;}),null);